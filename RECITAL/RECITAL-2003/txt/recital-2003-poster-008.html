<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head><title>S&#233;lection de crit&#232;res pour le filtrage automatique de messages</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body>
<div style="page-break-before:always; page-break-after:always"><div><p>RECITAL 2003, Batz-sur-mer, 11-14 juin 2003 
</p>
<p>S&#233;lection de crit&#232;res  
pour le filtrage automatique de messages 
</p>
<p>O. Nouali 
</p>
<p>(1) Laboratoire des Logiciels de base, CE.R.I.S.T,  
Rue des 3 fr&#232;res A&#239;ssiou, Ben Aknoun, Alger, Alg&#233;rie 
</p>
<p>Fax : 213 21 912126 - T&#233;l. : 213 21 916211 
(2)  LPL- Universit&#233; de Provence 
</p>
<p>29, Av. Robert Schuman, F-13621 Aix-en-Provence, France. 
Fax: +33 (0).42.59.50.96- T&#233;l.: +33 (0) 42.95.36.23 
</p>
<p>E-mail : onouali@mail.cerist.dz 
</p>
<p>Mots-clefs &#150; Keywords 
Filtrage d&#146;information, e-mail,  r&#233;seaux de neurones, apprentissage, spam. 
</p>
<p>Information filtering, e-mail, neural network, learning, e-mail filtering, spam. 
</p>
<p>R&#233;sum&#233; - Abstract  
La plupart des syst&#232;mes de filtrage du courrier &#233;lectronique existants enregistrent des lacunes 
ou faiblesses sur l&#146;efficacit&#233; du filtrage. Certains syst&#232;mes sont bas&#233;s seulement sur le 
traitement de la partie structur&#233;e (un ensemble de r&#232;gles sur l&#146;ent&#234;te du message), et d&#146;autres 
sont bas&#233;s sur un balayage superficiel de la partie texte du message (occurrence d&#146;un 
ensemble de mots cl&#233;s d&#233;crivant les int&#233;r&#234;ts de l&#146;utilisateur). 
Cet article propose une double am&#233;lioration de ces syst&#232;mes. D&#146;une part, nous proposons un 
ensemble de crit&#232;res automatisables et susceptibles d&#146;influer sur le processus de filtrage. Ces 
crit&#232;res sont des indices qui portent g&#233;n&#233;ralement sur la structure et le contenu des messages. 
D&#146;autre part, nous utilisons une m&#233;thode d&#146;apprentissage automatique permettant au syst&#232;me 
d&#146;apprendre &#224; partir de donn&#233;es et de s&#146;adapter &#224; la nature des mails dans le temps. Dans cet 
article, nous nous int&#233;ressons &#224; un type de messages bien particulier, qui continue &#224; polluer 
nos bo&#238;tes emails de fa&#231;on croissante : les messages ind&#233;sirables, appel&#233;s spam. Nous 
pr&#233;sentons  &#224; la fin les r&#233;sultats d&#146;une exp&#233;rience d&#146;&#233;valuation. 
</p>
<p>Most of existing filtering messages systems exhibit weaknesses in term of efficiency. In fact, 
there are systems that use only message header information and others use a superficial 
processing of message body. In this paper, we try to improve the filtering processes 
efficiency. First, we introduce a set of criteria which are cues related to the message structure 
and content. Second, we use a machine learning method allowing the system to learn from 
data and to adapt to the email nature. We are interested in a special type of messages that 
continuously poluate our email boxes: spam email. At the end, to measure the approach 
performances, we illustrate and discuss the results obtained by experimental evaluations. </p>

</div></div>
<div style="page-break-before:always; page-break-after:always"><div><p>O. Nouali 
</p>
<p>1 Introduction  
Aujourd&#146;hui, le courrier &#233;lectronique est le mode de communication le plus populaire. Il est 
devenu un moyen rapide et &#233;conomique pour &#233;changer des informations.  Cependant, les 
utilisateurs d&#146;Internet se retrouvent assez vite submerg&#233;s de quantit&#233;s astronomiques de 
messages dont le traitement n&#233;cessite un temps consid&#233;rable.  
Dans cet article, nous nous int&#233;ressons &#224; un type de messages bien particulier, qui continue &#224; 
polluer nos bo&#238;tes emails de fa&#231;on croissante : les messages ind&#233;sirables, appel&#233;s spam. Par 
exemple, messages proposant des services, des produits miraculeux (maigrir en un temps 
record, etc.), offres de voyages &#224; prix attractif, opportunit&#233;s d&#146;investissement pour devenir 
riche en peu de temps, propositions de cartes de cr&#233;dit &#224; taux d&#146;int&#233;r&#234;t r&#233;duit, messages 
pornographiques, etc. Le spam est un ph&#233;nom&#232;ne mondial et massif. Il cause de multiples 
d&#233;sagr&#233;ments tels que l&#146;engorgement des bo&#238;tes emails et des serveurs emails, dilution des 
messages utiles, perte de temps et d&#146;espace, etc. Certains syst&#232;mes de filtrage de spam 
existants sont bas&#233;s seulement sur le filtrage des adresses &#233;mettrices en se basant sur une liste 
noire des spammeurs, et d&#146;autres permettent aux utilisateurs d&#146;&#233;crire manuellement de r&#232;gles 
logiques de filtrage &#224; base de mots cl&#233;s. Le probl&#232;me avec ces syst&#232;mes, est que d&#146;une part, ils 
sont moins pr&#233;cis et d&#146;autre part la nature des messages spam varie au cours du temps, ce qui 
n&#233;cessite une mise &#224; jour fr&#233;quente de ces r&#232;gles. Pour palier ce probl&#232;me, une solution est de 
d&#233;velopper des syst&#232;mes &#233;volutifs qui s&#146;adaptent &#224; la nature des mails au cours du temps et 
donc utiliser les techniques d&#146;apprentissage automatique &#224; partir de donn&#233;es. De nombreux 
travaux, dans le domaine d&#146;apprentissage, ont port&#233; sur la classification de textes (Yang, 
Pedersen, 1997; Sebastiani, 1999) et peu de travaux ont port&#233; sur le filtrage de spam (Sahami 
et al., 1998; Orasan, Krishnamurthy, 2002). Une grande majorit&#233; de ces travaux utilise la 
cooccurrence lexicale comme base de leur classification. 
Dans cet article, nous proposons une solution &#233;volutive qui s&#146;adapte &#224; la nature des mails dans 
le temps et permet un filtrage nettement meilleur en qualit&#233;, bas&#233; sur un ensemble d&#146;indices 
portant g&#233;n&#233;ralement sur la structure et le contenu des messages. 
</p>
<p>2 Les crit&#232;res de filtrage 
Nous avons d&#233;fini et identifi&#233; un ensemble de crit&#232;res que nous avons class&#233;s en trois 
types (table 1).  
</p>
<p>Mots simples (MS) 
business, time, money, free, price, product, credit, opportunity, guarantee, 
</p>
<p>marketing, investment, risk, advertisement, sex, travel, miracle, etc. 
Mots compos&#233;s ou phrases tr&#232;s courtes 
</p>
<p>business opportunity, credit card, free investment, half price, home business, 
immediate release, investment report, limited time, special bonus, take action, etc. 
</p>
<p>Caract&#233;ristiques sp&#233;cifiques 
le domaine des adresses &#233;mettrices, la longueur de l&#146;ent&#234;te, le type du 
</p>
<p>message,  abr&#233;viations, les caract&#232;res non alphanum&#233;rique, les caract&#232;res 
num&#233;riques, la langue, les fichiers attach&#233;s, horaire d&#146;envoi, etc. 
</p>
<p>Table 1 : Principaux crit&#232;res de filtrage 
</p>
<p>Les mots simples  repr&#233;sentent le vocabulaire de base, g&#233;n&#233;r&#233; automatiquement &#224; l&#146;aide de la 
mesure de l&#146;information mutuelle (Yan, 1997). Les mots compos&#233;s sont g&#233;n&#233;r&#233;s &#224; partir des 
listes bigrammes et trigrammes apprises par le syst&#232;me. Les caract&#233;ristiques sp&#233;cifiques 
repr&#233;sentent l&#146;ensemble d&#146;indices portant sur la structure et le contenu des messages.  </p>

</div></div>
<div style="page-break-before:always; page-break-after:always"><div><p>S&#233;lection de crit&#232;res pour le filtrage automatique de messages 
</p>
<p>Voici quelques r&#233;sultats de l&#146;&#233;tude de notre corpus: 
</p>
<p>&#8226; Le domaine des adresses &#233;mettrices (.com, .gov, .edu, etc.) : 52% de spam contre 6% de non 
spam pour le domaine com, 13% contre aucun pour le domaine net, etc.  
</p>
<p>&#8226; La longueur de l&#146;ent&#234;te des messages: les messages spam subissent avant d&#146;&#234;tre re&#231;us par le 
destinataire, un certain nombre de relais par des serveurs de mails de fa&#231;on &#224; atteindre un 
maximum d&#146;utilisateurs. 96 % de spam de la base subissent des relais contre aucun pour non 
spam1. 
</p>
<p>&#8226; Le type du message : 45% de spam sont de type html, contre aucun pour non spam. 
&#8226; La longueur du message : elle est &#233;valu&#233;e par le nombre de mots. 85% de spam sont de 
</p>
<p>taille relativement courte contre 95% pour non spam. 
&#8226; Mots non fr&#233;quents (noms communs : cat&#233;gorie non reconnue par l&#146;analyseur) : Ce sont 
</p>
<p>tous les mots qui commencent par une majuscule et les mots non &#233;tiquet&#233;s par l&#146;analyseur. 
86% de spam contre 5% pour non spam. 
</p>
<p>&#8226; Abr&#233;viations : 35% de spam contre 10% pour non spam. 
&#8226; Les caract&#232;res non alphanum&#233;rique ($, !, #, %, *, &amp;, etc.): 65% de spam contiennent des 
</p>
<p>caract&#232;res non alphanum&#233;riques contre 2% pour non spam. 76 % de spam contiennent le 
point d&#146;exclamation (ex : get rich quick!) contre 90% de non spam ne le contiennent pas. 43 
% de spam contiennent le caract&#232;re $ (90% dans le champ subject) contre aucun pour non 
spam. 
</p>
<p>&#8226; Les caract&#232;res num&#233;riques : 80% de spam contre 10% pour non spam. 
&#8226; La langue du message : 100% de spam sont en anglais contre 80% de non spam sont en 
</p>
<p>fran&#231;ais. 
&#8226; Les fichiers attach&#233;s : 98% de spam n&#146;ont pas de fichiers attach&#233;s contre 92% pour non 
</p>
<p>spam. 
&#8226; La taille des phrases : 76% de spam contiennent des phrases courtes (&lt;10 mots) contre 92 % 
</p>
<p>pour non spam. 
&#8226; Horaire d&#146;envoi (nuit/jour) : 65% de spam sont envoy&#233;s la nuit contre 88% de non spam, 
</p>
<p>sont envoy&#233;s le jour. 
&#8226; etc. 
</p>
<p>3 Le mod&#232;le de connaissance 
Il repr&#233;sente l&#146;ensemble des caract&#233;ristiques du domaine spam d&#233;finies et identifi&#233;s par 
apprentissage &#224; partir d&#146;un corpus de messages. Le mod&#232;le adopt&#233; pour mod&#233;liser le profil 
spam est un r&#233;seau de neurones non r&#233;currents (absence de boucles) &#224; trois couches (figure 1).  
Une couche en entr&#233;e qui re&#231;oit les entr&#233;es du r&#233;seau. Une couche cach&#233;e repr&#233;sentant 
l&#146;ensemble des caract&#233;ristiques du profil spam. Une couche de sortie qui repr&#233;sente deux 
types de messages : spam et non spam.  
Dans un r&#233;seau de neurones, la connaissance est cod&#233;e par la valeur des poids des diff&#233;rentes 
connexions. Ce codage est estim&#233; par apprentissage. Il s&#146;agit, &#224; partir d&#146;un ensemble 
d&#146;exemples observ&#233;s, d&#146;estimer les param&#232;tres du r&#233;seau de neurones. Le r&#233;seau est entra&#238;n&#233; 
par l&#146;algorithme de propagation arri&#232;re ou r&#233;tro-propagation qui consiste &#224; corriger les poids 
des connexions des diff&#233;rentes couches en fonction des erreurs commises. La correction se 
fait de la couche de sortie &#224; la couche d&#146;entr&#233;e. La fonction d&#146;activation choisie pour toutes 
les couches est la fonction sigmo&#239;de (Davalo, Naim, 1993). 
</p>
<p>                                                 
1 Un relais est identifi&#233; dans l&#146;ent&#234;te du message par le mot cl&#233; : &#171; Received : from&#133; &#187; 
</p>
<p> </p>

</div></div>
<div style="page-break-before:always; page-break-after:always"><div><p>O. Nouali 
</p>
<p> 
Figure 1 : Architecture d&#146;un r&#233;seau &#224; trois couches 
</p>
<p>L&#146;algorithme d&#146;apprentissage est d&#233;crit bri&#232;vement comme suit: 
</p>
<p>(1) Etiqueter chaque message du corpus (Spam ou non spam). 
(2) Faire passer le corpus par les diff&#233;rents modules d&#146;analyse pour avoir la repr&#233;sentation 
associ&#233;e de chaque vecteur. 
(3) Initialiser les param&#232;tres du r&#233;seau : au d&#233;part les poids des connexions entre neurones des 
diff&#233;rentes couches sont d&#233;finis par d&#233;faut &#224; 0.5, et le pas d&#146;apprentissage  initialis&#233; &#224; 0.1. 
(4) Lancer l&#146;apprentissage qui consiste &#224; : calculer la sortie du r&#233;seau pour chaque message, 
comparer et calculer l&#146;erreur, et mettre &#224; jour les param&#232;tres du r&#233;seau (ajuster les poids). 
</p>
<p>4 Le processus de filtrage 
En premier, un module de pr&#233;-traitement est lanc&#233; pour pr&#233;parer les messages, r&#233;cup&#233;r&#233;s de 
la bo&#238;te email, aux diff&#233;rentes &#233;tapes ult&#233;rieures de l&#146;analyse. Il consiste &#224; isoler les diff&#233;rents 
champs et &#224; identifier la langue de chaque message parmi deux actuellement mod&#233;lis&#233;es 
(Fran&#231;ais, Anglais). Par ailleurs, le syst&#232;me est incr&#233;mental et permet facilement la prise en 
compte de nouvelles langues (ajouter un anti-dictionnaire propre &#224; chaque nouvelle langue). 
</p>
<p> 
 
 
</p>
<p> 
Figure 2 : le processus de filtrage 
</p>
<p>Apr&#232;s l&#146;&#233;tape de pr&#233;-traitement, le message est donn&#233; &#224; un analyseur, qui a pour but 
d&#146;identifier les informations pertinentes &#224; repr&#233;senter. Il s&#146;agit d&#146;extraire les diff&#233;rentes 
propri&#233;t&#233;s permettant de le caract&#233;riser et de construire en sortie le vecteur message associ&#233;. 
En effet, le message est repr&#233;sent&#233; conceptuellement par un espace vectoriel de k dimensions: 
M = {(T1,W1), (T2,W2, ... , (Tk,Wk)} (Ti: i&#232;me caract&#233;ristique, Wi: poids et k : espace des 
caract&#233;ristiques). Cette repr&#233;sentation constitue l&#146;entr&#233;e du r&#233;seau de neurones. Elle est donc 
cr&#233;e dynamiquement &#224; chaque r&#233;cup&#233;ration d&#146;un nouveau message. Ce vecteur sera propag&#233; &#224; 
travers les diff&#233;rentes couches du r&#233;seau pour donner en sortie le type du message : spam ou 
non spam. L&#146;identification de certains crit&#232;res n&#233;cessite une phase d&#146;&#233;tiquetage pr&#233;alable.  En 
effet, nous avons utilis&#233; un &#233;tiqueteur morpho-syntaxique, analyseur de Brill (Brill, 1992).  
</p>
<p> C1       C2      &#133;       Ci        ...       Cn
</p>
<p> spam     non spam 
</p>
<p>Couche Cach&#233;e
</p>
<p>Couche de sortie 
</p>
<p> Couche d&#146;entr&#233;e 
</p>
<p>Cat&#233;gorie
</p>
<p>Message 
</p>
<p>Analyseur Caract&#233;ristiques 
du message 
</p>
<p>Pr&#233;-traitement 
</p>
<p>R&#233;seau de neurones </p>

</div></div>
<div style="page-break-before:always; page-break-after:always"><div><p>S&#233;lection de crit&#232;res pour le filtrage automatique de messages 
</p>
<p>Le syst&#232;me dispose d&#146;un apprentissage assist&#233; appel&#233; feed-back (Oubbad, Nouali, 1999) o&#249; 
l&#146;utilisateur est invit&#233; &#224; donner son avis sur le comportement du syst&#232;me, ce qui lui permet 
d&#146;approcher la pertinence de l&#146;utilisateur et de s&#146;adapter ainsi &#224; ses besoins. 
</p>
<p>5 Evaluation 
Pour effectuer nos tests nous avons travaill&#233; avec un corpus de 1000 messages construit &#224; 
partir d&#146;un ensemble de messages que nous avons collect&#233;s pendant quatre mois, contenant 
700 mails de classe spam et 300 non spam. Nous avons divis&#233; le corpus en une base 
d&#146;apprentissage et une base de tests selon le d&#233;coupage suivant :  
</p>
<p>&#8226; Base d&#146;apprentissage : 450 spam et 200 non spam. 
&#8226; Base de test : 250 spam et 100 non spam. 
</p>
<p>Pour mesurer les performances nous avons utilis&#233; les mesures suivantes : 
</p>
<p>Rappel = 
&#947;&#945;
</p>
<p>&#945;
  +
</p>
<p> Pr&#233;cision = &#946;&#945;
&#945;
</p>
<p>  +    
</p>
<p>Erreur_globale = 
&#948;&#947;&#946;&#945;
</p>
<p>&#947;&#946;
+++
</p>
<p>+
  
</p>
<p>  Pr&#233;cision_globale= 
&#948;&#947;&#946;&#945;
</p>
<p>&#948;&#945;
+++
</p>
<p>+
  
</p>
<p> 
</p>
<p>avec : &#945;: Messages spam, correctement filtr&#233;s (class&#233;s) par le syst&#232;me. 
&#946; : Messages non spam, incorrectement filtr&#233;s par le syst&#232;me. 
&#947; : Messages spam, incorrectement non filtr&#233;s (rejet&#233;s) par le syst&#232;me. 
&#948; : messages non spam, correctement non filtr&#233;s par le syst&#232;me. 
</p>
<p>Exp&#233;rience 1: Performances en fonction des caract&#233;ristiques consid&#233;r&#233;es 
Nous mesurons les performances du syst&#232;me en consid&#233;rant tout d&#146;abord un mod&#232;le de base 
constitu&#233; uniquement de mots simples et lorsque nous ajoutons des crit&#232;res suppl&#233;mentaires. 
</p>
<p>Spam Non spam Performance globale Caract&#233;ristiques
Pr&#233;cision Rappel Pr&#233;cision Rappel Erreur Globale Pr&#233;cision Globale 
</p>
<p>MS 97,8% 81,8% 77,2% 97,1% 12,2% 87,7% 
MS + MC + CS 99,4% 86,3% 82,2% 99,2% 8,6% 91,4% 
+Pond&#233;ration 99,5% 95,4% 93,2% 99,2% 3% 97% 
</p>
<p>Tableau 1 : les performances du syst&#232;me 
</p>
<p>Au d&#233;but de l&#146;exp&#233;rience, on remarque un taux d&#146;erreur de 12%, et un &#233;cart significatif entre 
le taux de pr&#233;cision et le taux de rappel. En effet, le syst&#232;me consid&#232;re certains spam comme 
des messages l&#233;gitimes. Nous reprendrons les tests en ajoutant les crit&#232;res d&#233;finis 
pr&#233;c&#233;demment. Initialement, nous avons attribu&#233; un m&#234;me poids &#224; tous les crit&#232;res de filtrage. 
Nous constatons une am&#233;lioration des performances mais non maximale. Ensuite, nous avons 
modifi&#233; l&#146;importance des diff&#233;rents crit&#232;res, en attribuant une forte valeur du poids &#224; certains 
crit&#232;res et aux termes sp&#233;cifiques, qui sont uniques dans le type spam. Les r&#233;sultats des tests 
&#233;taient beaucoup meilleurs (95% de rappel).  
</p>
<p>Exp&#233;rience 2: mesurer l&#146;importance et le r&#244;le de l&#146;apprentissage 
L&#146;exp&#233;rience consiste &#224;  pr&#233;senter au syst&#232;me en deux cas diff&#233;rents, un ensemble de courriers 
&#224; filtrer en plusieurs sessions. Puis mesurer &#224; chaque fois le taux global de succ&#232;s du syst&#232;me 
et effectuer un apprentissage assist&#233; pour mesurer son efficacit&#233; et son influence sur les deux 
facteurs (figure 3). Nous constatons que le mod&#232;le n&#233;cessite plusieurs sessions 
d&#146;apprentissages assist&#233;s pour am&#233;liorer la qualit&#233; de ses r&#233;sultats. Il est donc n&#233;cessaire de 
lancer l&#146;apprentissage feedback r&#233;guli&#232;rement, par exemple apr&#232;s chaque session de filtrage. </p>

</div></div>
<div style="page-break-before:always; page-break-after:always"><div><p>O. Nouali 
</p>
<p> 
Figure 3: l&#146;importance de l&#146;apprentissage assist&#233; 
</p>
<p>6 Conclusion 
Cet article propose une solution &#233;volutive qui s&#146;adapte &#224; la nature des mails dans le temps et 
permet un filtrage beaucoup meilleur en qualit&#233;. En effet, un traitement statistique de corpus 
nous permet de proposer un certain nombre de crit&#232;res permettant d&#146;am&#233;liorer les r&#233;sultats de 
filtrage. Ces crit&#232;res sont mod&#233;lis&#233;s par un r&#233;seau de neurone. Chaque n&#156;ud du r&#233;seau 
correspond &#224; un crit&#232;re, qui est pond&#233;r&#233; par un poids qui repr&#233;sente son degr&#233; d'importance. 
Un module d&#146;apprentissage permet d&#146;am&#233;liorer les r&#233;sultats du syst&#232;me. Les r&#233;sultats de tests 
obtenus sur notre corpus semblent satisfaisants. N&#233;anmoins, pour tester l&#146;adaptabilit&#233; de 
l&#146;approche, il serait int&#233;ressant d&#146;&#233;tendre les tests sur un &#233;chantillon de messages plus 
important.  
</p>
<p>R&#233;f&#233;rences 
Brill E., (1992), A Simple Rule-based Part of Speech Tagger, Proceedings of the Third 
Conference on Applied Natural Language Processing, ACL, pp.152-155, 1992. 
</p>
<p>Cohen W. W., (1996), Learning rules that classify e-mail, In Proceedings of the 1996 AAAI 
Spring Symposium on Machine Learning in Information Access, 1996. 
</p>
<p>Davalo E., Naim P., (1993), Des R&#233;seaux de Neurones, Edition Eyrolles, 1993. 
</p>
<p>Nouali O., (2002), Classification Automatique de messages : une approche hybride, 
RECITAL2002, Nancy, 24-27 juin 2002. 
</p>
<p>Oubbad L., Nouali O., (1999), Syst&#232;me de filtrage du courrier &#233;lectronique, M&#233;moire 
d&#146;ing&#233;nieurs, INI, Alger, novembre 1999. 
</p>
<p>Orasan C., Krishnamurthy R., (2002), A corpus-based investigation of junk emails, In 
Proceedings of LREC-2002, Las Palmas, Spain, 2002. 
</p>
<p>Sahami M., Dumais S., Heckerman D., Horvitz E, (1998), A Bayesian approach to filtering 
junk e-mail, In Learning for Text Categorization Papers from the AAAI Workshop, pp. 55&#150;62, 
Madison Wisconsin, AAAI Technical Report WS-98-05, 1998. 
</p>
<p>Sebastiani F., (1999), A Tutorial on Automated Text Categorisation, Proceedings of ASAI-99, 
1st Argentinean Symposium on Artificial Intelligence, 1999. 
</p>
<p>Yang Y., Pedersen J. O., (1997), A comparative Study on Feature Selection in Text 
Categorization, International Conference on Machine Learning, ICML, Nashville, TN, USA, 
1997. </p>

</div></div>
</body></html>