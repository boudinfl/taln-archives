TALN 2009, Senlis, 24-26 juin 2009

Le projet BabyTalk : génération de texte a partir de données
hétérogénes pour la prise de décision en unité néonatale

Francois Portet (1,2), Albert Gatt (1), Jim Hunter (1), Ehud Reiter (1),
Somayajulu Sripada (1)

(1) Department of Computing Science, University of Aberdeen, Ecosse
portet@imag.fr, {a.gatt,j .hunter,e.reiter,yaji.sripada} @ abdn.ac.uk
(2) LIG, UMR 5217, Université de Grenoble, France

Résumé Notre société génére une masse d’information toujours croissante, que ce soit en
médecine, en météorologie, etc. La méthode la plus employée pour analyser ces données est
de les résumer sous forme graphique. Cependant, il a été démontré qu'un résumé textuel est
aussi un mode de présentation efﬁcace. L'objectif du prototype BT-45, développé dans le
cadre du projet Babytalk, est de générer des résumés de 45 minutes de signaux physiologiques
continus et d'événements temporels discrets en unité néonatale de soins intensifs (NICU).
L'article présente l'aspect génération de texte de ce prototype. Une expérimentation clinique a
montré que les résumés humains améliorent la prise de décision par rapport a l'approche
graphique, tandis que les textes de BT-45 donnent des résultats similaires a l’approche
graphique. Une analyse a identiﬁé certaines des limitations de BT-45 mais en dépit de celles-
ci, notre travail montre qu'il est possible de produire automatiquement des résumés textuels
efﬁcaces de données complexes.

Abstract Nowadays large amount of data is produced every day in medicine, meteorology
and other areas and the most common approach to analyse such data is to present it
graphically. However, it has been shown that textual summarisation is also an effective
approach. As part of the BabyTalk project, the prototype BT-45 was developed to generate
summaries of 45 minutes of continuous physiological signals and discrete temporal events in a
neonatal intensive care unit (NICU). The paper presents its architecture with an emphasis on
its natural language generation part. A clinical experiment showed that human textual
summaries led to better decision making than graphical presentation, whereas BT-45 texts led
to similar results as visualisations. An analysis identiﬁed some of the reasons for the BT-45
texts inferiority, but, despite these deﬁciencies, our work shows that it is possible for
computer systems to generate effective textual summaries of complex data.

Mots-clés 2 Traitement automatique des langues naturelles ; Génération de texte ; Analyse
de données ; Unité de soins intensifs ; Systémes d'aide a la décision

Keywords: Natural language processing; Natural language generation; Intelligent data
analysis; Intensive care unit; Decision support systems

F rangois Portet, Albert Gatt, Jim Hunter, Ehud Reiter, Somayajulu Sripada

1 Introduction

En unité de soins intensifs, le personnel médical est amené a prendre des décisions
importantes concernant le meilleur traitement a administrer a un patient, parfois sous la
pression du temps. Les cliniciens disposent d’un grand nombre de données qui incluent les
signaux physiologiques (p.ex. fréquence cardiaque, pression artérielle...), les résultats de
laboratoire, les notes qui enregistrent les interventions précédentes, etc. En principe, ce
foisonnement d'informations devrait permettre une prise de décision appropriée, mais le plus
souvent la quantité de données est telle qu'il est difficile de trouver l'information pertinente
rapidement. Le mode de présentation des données est donc crucial. En effet, cette masse
d’informations est utile dans la mesure o1‘1 elle est présentée d'une maniere qui permet aux
éléments pertinents d'étre extraits rapidement. Actuellement, le mode prédominant est la
représentation graphique, mais, alors que les systemes graphiques sont tres performants
lorsqu'ils sont utilisés par des experts (Shahar et al., 2006), ils ne sont pas toujours efﬁcaces
dans le cas d'utilisateurs novices (dans notre cas, des inﬁrmieres ou des médecins débutants)
devant prendre des décisions en quelques minutes. Une autre facon d’aider l’exploitation des
données est de créer un systeme expert qui recommande des actions au personnel médical.
Cependant, peu de ces systemes ont été intégrés dans la pratique médicale car leurs
recommandations sont souvent ignorées meme lorsque les utilisateurs reconnaissent leur
pertinence (Puppe et al., 2008). Nous pensons qu'une maniere alternative d’exploiter ces
données pour l'aide a la décision est d'utiliser des systemes a base de connaissances afin
d’extraire les informations pertinentes et les présenter a l'utilisateur sous forme de résumé
textuel produit automatiquement par des techniques de génération de texte (Natural Language
Generation — NLG). Succinctement, il s’agit de trouver un compromis entre la présentation
des données brutes (visualisation classique) et la recommandation d’actions (approche des
systemes experts). Notre but est donc de foumir aux cliniciens un résumé clair qui présente
l'information principale pour faciliter la prise de décision, laissant cette derniere tache
entierement a leur jugement. Ce travail a été initié au sein du projet britannique BabyTalk
(Portet et al., 2009) dont le but est de générer des résumés textuels de données de nouveau-nés
en unité néonatale de soins intensifs. Ce projet, ainsi que les données manipulées sont
présentés en section 2. Le développement d’un prototype appelé BT-45 (BabyTalk 45
minutes) est ensuite résumé en section 3 et son évaluation est présentée en section 4. La
section 5 termine l’article par une discussion des résultats et l’identiﬁcation de certains déﬁs
pour la génération de langage naturel. Cet article est une version condensée de Portet et
al. (2009).

2 Le projet BabyTalk

BabyTalk est une collaboration entre le NICU (Neonatal Intensive Care Unit) de la Royal
Infirmary of Edinburgh et les universités d'Aberdeen et d'Edimbourg. L'objectif du projet est
de concevoir des systemes produisant des résumés textuels de données médicales a différentes
échelles temporelles (minutes, heures, joumées), pour différentes utilisations (aide a la
décision, résumé pour l’équipe prenant le relais) et adaptés a différents utilisateurs
(inﬁrmieres confirmées, médecins débutants, parents). Ces systemes sont : 1) BT-Nurse (12
heures de données a destination des infirmieres prenant leur service pour résumer ce qui s'est
produit durant le service précédent) ; 2) BT-Doc (plusieurs heures de données, sur demande,
pour aider les médecins débutants a prendre des decisions); 3) BT-Parent (production de
résumés rassurants adaptés a l’état émotif des parents), une extension du systeme BabyLink
(Freer et al., 2005) qui est actuellement utilisé a Edimbourg; et 4) BT-Clan (resume a

Le projet BabyTalk .' résumé de données hétérogénes cliniques pour la prise de décision

destination des aInis et de la famille, pour les encourager a offrir un soutien approprié aux
parents). Avant d’atteindre ces objectifs, le prototype BT-45 (BabyTalk 45 minutes) a été
concu pour tester la faisabilité de l’approche — qui combine des techniques de traitement
intelligent du signal et de génération de textes — sur de courtes périodes de données. La
motivation principale pour la conception de BT-45 vient de l’étude de Law et al. (2005), qui
ont constaté que les cliniciens en NICU prennent de meilleures décisions lorsqu’ils utilisent
des données présentées sous forme textuelle (résumés uniquement descriptifs rédigés par des
experts) plutot que sous forme graphique, bien qu’ils préferent cette derniere forme de
présentation (sﬁrement parce qu’ils y sont habitués). Notre premiere intention était d’essayer
de reproduire ces résultats par le méme type d’évaluation mais en présentant les données sous
forme : H) textuelle rédigée par des experts humains, C) textuelle générée automatiquement,
et G) graphique. Puisque l'étude de Law et al. (2005) a utilisé des scénarios de 45 minutes de
données, BT-45 a été concu pour produire des résumés de cette longueur.

Les données d’entrées de BT-45 ont été acquises durant le projet NEONATE (Hunter et al.,
2003) et représentent plus de 400 heures d’enregistrement de données de 42 nouveau-nés
soignés dans la NICU de la Royal Infirmary of Edinburgh. Elles sont de deux sortes : 1) les
événements discrets (annotations d’intervalles de temps) tels que les résultats de laboratoire,
les activités du personnel, les équipements utilisés et leur paramétrage, les prescriptions, etc.
et 2) les données multivoies continues de signaux physiologiques (fréquence cardiaque HR,
pressions de l'oxygene TcP02 et de l’anhydride carbonique TcPC02 dans le sang, saturation
en oxygene Sp02, températures périphérique T2 et centrale T] et tension artérielle moyenne
mean BM). La Figure 1-G) donne un apercu des données d'entrée du systeme telles que les
cliniciens les percoivent habituellement. La seule différence avec les systemes réels est que les
données discretes de NEONATE ont été saisies précisément par une inﬁrmiere employee a cet
effet. En plus des données cliniques, nos collegues cliniciens a Fdimbourg ont écrit 23
résumés, décrivant des périodes de temps entre 30 et 50 minutes, qui ont complété les 18
résumés écrits pour le projet NEONATE (Hunter et al., 2003). Ces résumés ont été employés
comme données de développement pour BT-45. Vingt-six autres résumés ont été écrits pour
évaluer la prise de décision clinique a partir de résumés écrits par des experts ou générés par
BT-45. La Figure 1-H) montre un texte, écrit par un expert, correspondant aux données de la
Figure 1-G).

3 Architecture du prototype BT-45

L'architecture du prototype est illustrée Figure 2. BT-45 crée un résumé des données cliniques
en quatre étapes principales. Les signaux physiologiques et les annotations sont traités par
l’étape d’analyse des signaux (1) pour extraire les caractéristiques principales des signaux
(événements médicaux, artéfacts et tendances). Le module d’interpre’tation (2) abstrait les
événements (p.ex. abstraction d’événements consécutifs en séquence) et interprete les données
pour découvrir des relations entre événements (p.ex. A cause B). A partir du grand nombre
d’événements et de relations produites, l’étape de planification du document (3) choisit les
plus importants et les agrege dans un arbre d’événements. Enﬁn, le module de micro-
planification et réalisation (4) traduit cet arbre en texte. Tous les termes employés pour
décrire les événements sont liés par une ontologie des concepts du domaine NICU. Les sous-
sections suivantes détaillent les modules de BT-45 en mettant l'accent sur la génération de
texte.

F rangois Portet, Albert Gan‘, Jim Hunter, Ehud Reiter, Somayajulu Sripada

HI!

I '2

Mean BP

JIIFILO

as

Dan IT l1:I0

juzas.

D”““r/‘l'T'”‘*~ **** ‘---4*-'-"M ~"'~-*'v--—'“--~~'—“
«\,_r~\_f‘vI”‘u\_‘_""*-—-—"'\_J\'\.[\'i‘\'... ,--—_.

1/”““’”‘"‘"“‘5‘W1,~,/”":”:’
I J

t1--,,1N%Wi

''x- . "-

. ___w___E__‘_ ____¢____

1-l,15;4Cl
HEEL PFHEK

n n a A a

13130 14:25 H::v:v F11-as was [14:15

G)

To start with, the HR=152; TcPO2= 6;
SaO2= 92%. T1: 37.7“ and T2= 34.3°C.

Initially there is an increase in oxygenation: TcPO2 rises from 6
to 10.6 SaO2 rises from 89 to 98%. HR and TcPCO2 are static.

At 14:15 hours a heel prick is done. The HR increases at this
point and for 7 minutes from the start of this procedure there is a
lot of artifact in the oxygen saturation trace. Also there are
upward spikes in the TcPO2 (to 17), each corresponding with
downward spikes in the TcPCO2 (to 2.6). At 14:23 the FiO2 is
changed to 45% and the TcPO2 rises from 6 to 12.

At 14:28 the saturation probe is reapplied, the oxygen saturation
is 100%, and the HR settles back to baseline of 155. The FiO2
is reduced twice and at 14:31 is 25%.

At 14:34 hours the baby is examined. For the following 5
minutes there is another series of spikes in the transcutaneous
parameters, with TcPO2 spikes up to 19 and corresponding
TcPCO2 spikes down to 1.4, while the saturations fall to 74%.
The FiO2 is increased to 32%. HR remains stable at 145-160.

By 14:38 the toe-core gap has widened to >4" with a T1 of
37.7°C. Both temperature probes are re—applied at 14:41.
Shortly after this the oxygen saturation settles to 94-95% and at
14:46 the FiO2 is reduced to 28%.

At 14.48 hours the oxygen saturation falls to 83%, TcPO2 is 6.6
and TcPCO2 is 7.6. HR remains steady around 160. While the
oxygen saturation remains at 83% the TcPO2 falls to 5 and the
TcPCO2 to 6.6. The FiO2 is increased to 30%.

By 14:50 T1 is 37.5“ and T2 is 34.2°C.

TcPCO2= 8.6 and

H)

You saw the baby between 14:10 and 14:50.
Heart Rate (HR) = 159. Core Temperature (T1) =
37.7. Peripheral Temperature (T2) 34.3.
Transcutaneous Oxygen (TcPO2) 5.8.
Transcutaneous CO2 (TcPCO2) = 8.5. Oxygen
Saturation (SaO2) = 89.

Over the next 30 minutes T1 gradually increased
to 37.3.

By 14:27 there had been 2 successive
desaturations down to 56. As a result, Fraction of
Inspired Oxygen (FIO2) was set to 45%. Over
the next 20 minutes T2 decreased to 32.9. A heel
prick was taken. Previously the spo2 sensor had
been re-sited.

At 14:31 FIO2 was lowered to 25%. Previously
TcPO2 had decreased to 8.4. Over the next 20
minutes HR decreased to 153.

By 14:40 there had been 2 successive
desaturations down to 68. Previously FIO2 had
been raised to 32%. TcPO2 decreased to 5.0. T2
had suddenly increased to 33.9. Previously the
spo2 sensor had been re-sited. The temperature
sensor was re-sited.

C)

Figure 1: G) Presentation Graphique de données NICU. Les voies physiologiques de haut en bas sont HR, TcPO2, TcPCO2, SaO2, Tl & T2, et
Mean BP (non connecté durant la période d'enregistrement). Les carrés rouges en bas représentent les événements annotés, 1'uti1isateur accede a
de l’information supplémentaire en cliquant dessus (p.ex., un heel prick - acquisition d'échanti11on sanguin au talon - a été enregistré a 14h15). H)
Résumé textuel correspondant écrit par un expert Humain. C) Résumé textuel correspondant généré par BT-45 (Computer)

Le projet BabyTalk .' résumé de données hétérogénes cliniques pour la prise de décision

4 .
(D ‘7 oomepis Ontologie
Séyies Analyse C?) ‘V is
lemporeiies des si naux _ — l V °°"°°p
9 événemem? Interpretation _(,bSeE,ionS_> 3
A médicales Planification

A d d t _ 9"M*
I I U Ocumen d’événements_> Micro-P|anningQ-D

_ L _noteL:|iniqui : J

    
  
     
   
 

ésumés
et realisation lexluels

   

Base de
données
NEONATE

Figure 2: Architecture du prototype BT-45.

3.1 Analyse des données et représentation dans l'ontologie du domaine

Dans BT-45, la connaissance du domaine est centralisée dans une ontologie. En plus d’avoir
fourni un vocabulaire conceptuel commun entre les modules, cette ontologie a également servi
au raisonnement. Plut6t que d’utiliser des ressources médicales telles que SNOMED-CT ou
UMLS trop difﬁciles a intégrer dans un systeme dédié (UMLS couvre plus de 1.5 million de
concepts), nous avons développé cette ontologie a partir d’un lexique créé durant nos
précédents projets en incluant notamment des informations linguistiques. La version finale
représente environ 550 concepts séparés en deux branches principales : EVENT et ENTITY.
ENTITY englobe les objets du domaine, tels que NURSE, VENTILATOR (appareil
d’assistance respiratoire), MEDICATION, etc. EVENT englobe les activités et les événements
qui impliquent des entités. Tous les événements ont une date de début, une date de ﬁn, et une
valeur d'importance. Cette derniere représente l'importance médicale d’un événement qui peut
étre fixe ou calculée par BT-45. Les sous-classes de EVENT incluent INTERVENTION
(p.ex., injection de médicament), OBSERVATION (p.ex., bébé est agité), etc. Etant donné
que l'ontologie est utilisée pour représenter la connaissance et pour soutenir le traitement
linguistique, les événements ont des attributs qui spécifient leurs participants. Durant la
lexicalisation, ces participants sont reliés aux r6les thématiques d’une structure
événementielle utilisée pour exprimer un événement. Par exemple, INSERT_CHEST_DRAIN
a des champs qui spéciﬁent l'agent (la personne qui insere le drain), le bénéficiaire (la
personne a qui le drain est destiné), et le theme (l'objet qui a été utilisé; ici le drain).

Les instances des classes de l'ontologie sont créées lors de la lecture de la base de données ou
inférées par les modules d'analyse des signaux ou d'interprétation des données. Les signaux
physiologiques contiennent beaucoup d'informations sur l’état du patient qui doivent étre
extraites (p.eX. les bradycardies — périodes de ralentissement du rythme cardiaque). Le but de
l’analyse des signaux est donc de détecter les motifs représentant des événements d’intérét sur
les signaux physiologiques, de les classifier et d’estimer leur importance. Toutes les instances
sont ensuite analysées par le module d’interprétation des données qui est un prérequis pour la
synthese des données. En effet, reporter les événements pris isolement (p.ex. chaque pic) ne
réduirait pas la charge d'informations tandis que l’abstraction de ceux-ci dans une description
de plus haut niveau (p.ex., une séquence de pics) est déja une compression d’information. Par
ailleurs, les associations entre couples d’événements (p.ex., A cause B) doivent étre inférées
pour faciliter la compréhension. Ceci est réalisé en utilisant plus d’une centaine de regles et
métaregles expertes. Le lecteur qui souhaiterait plus de détails sur ces parties pourra se
reporter a l’article de Portet et al. (2009).

F rangois Portet, Albert Gan‘, Jim Hunter, Ehud Reiter, Somayajulu Sripada

3.2 Planiﬁcation du document

Ce module decide, a partir des evenements et des liens produits par les modules en amont,
quels sont les evenements (c.-a-d. « unites d'informations » ou «messages ») devant étre
communiques dans le texte. La planification repartit les messages dans des paragraphes et
determine l'ordre des evenements dans chaque paragraphe. Le plan resultant est une
representation abstraite d’un document sous forme d’un arbre dont les noeuds sont des
evenements (messages) ou des informations de structure du document (paragraphes), et dont
les arcs sont annotes avec des relations rhetoriques. La Figure 3 illustre la maniere de
fonctionner de la planiﬁcation. Le noeud racine (root) a quatre ﬁls : un noeud SEQUENCE
(l'evenement cle — key event), avec les evenements qui lui sont lies (DESATURATION et
FIO2) ; et les autres noeuds de groupe construits en fonction de leur categorie (systeme
respiratoire, thermoregulation et autre...). L'algorithme, inspire de Hallett et al. (2006),
identifie un nombre restreint d'evenements cles (base sur leur importance) et cree un
paragraphe pour chacun. Les evenements cles sont mentionnes d'abord, suivis des evenements
qui leur sont explicitement lies, suivis de ceux se produisant au meme moment. Les
paragraphes sont ordonnes par heure de debut de leur evenement cle respectif. L'originalite de
cette approche reside dans l'algorithme de construction autour d’evenements cles et par le fait
qu'un paragraphe est traite comme un type primitif. Dans la plupart des systemes NLG, les
paragraphes ont tendance a suivre des modeles tres stricts (par exemple, un paragraphe au
sujet des medicaments) ou a étre traites comme un phenomene d'agregation. Dans BT-45,
l’algorithme produit dynamiquement des paragraphes de longueur et de contenu variable.

(root)
sequence

    
    
 

ExAMINE_BABY: 14:37:03 14:37:22 (20) (key eve”)

TREND(HR): 14:33:0314:49:1e( 1)

TREND (sao2): 14:33:1014:44:53( 9)

TREND (TcPO2): 14:33:21 14:39:36( 3) _

TREND (T2): 14:38:2914:38:56( 1) mfﬂlde

DEsATuRATIoN: 14:33:3214:33:45 17 I-nc,ﬂde\

reason
TREND TcPCO2: 14:33:5414:42:00 5 / \
desat.
Trend
(TcPO2)

TREND (SaO2): 14:45:0414:49:21 ( 3) desat.

F|O2: 14:46:03 14:46:03 (12)

F|O2: 14:49:3414:49:34( 6) H02 step (1.2) re_s“e

Figure 3 : Liste d'evenements pour la periode de 14h37 a 14h50 (a gauche), dont les
evenements grises ont ete selectionnes pour constituer une partie du plan du document (a
droite). Les noeuds de groupement, entre parentheses, ne correspondent pas a un evenement.

3.3 Micro-planification et realisation

Ce module regroupe le micro-planning et de realisation qui sont souvent considerees separees
en NLG (Reiter et Dale, 2000). Le Inicroplanning ajoute le contenu linguistique au plan de
document, creant des representations semantiques qui sont ensuite traduites en structures
linguistiques (syntactiques), pour étre ﬁnalement linearisees comme texte. L'architecture
interne du microplanner BT-45 est donnee Figure 4. Les differentes parties du Inicroplanner
sont illustrees en se referant au dernier paragraphe du texte de la Figure 1-C).

La lexicalisation relie les evenements du plan a des structures evenementielles (Event-Frame)
consistant en un verbe (predicat) et une specification de ses arguments semantiques (role
thematique) tels que AGENT ou THEME. La lexicalisation associe les EVENT a des

Le projet BabyTalk .' resume’ de données hétérogenes cliniques pour la prise de de’cision

prédicats en se basant sur leur classe ontologique et en utilisant des regles expertes. Ce
procédé est également soutenu par le lexique Verbnet (Kipper et al., 2000) modiﬁé pour
inclure des classes spéciﬁques au domaine. Verbnet groupe les verbes par classes selon leurs
roles thématiques. Par exemple, dans le cas de l'événement ou le parametre du ventilateur
FIO2 est augmenté a 32%, cet événement appartient a une sous-classe de
VENTILATOR_SETTING. Cette classe possede un attribut de direction qui, dans ce cas-ci,
prend la valeur increase de sorte que l'exemple correspond au modele suivant (au format
LISP) : (event—verb—mapping (event—class VENTILATOR_SETTING)
(verb—class intentional_value_setting) (direction increase)
(ve rb raise) ). Le verbe appartient a la classe intentional_value_setting du lexique et
hérite de trois roles thématiques, AGENT (l’entité qui modiﬁe FIO2), THEME (l’entité qui
est modiﬁée, ici FIO2) et VALUE (ici, 32%). La lexicalisation est généralisée pour traiter des
séquences d'événements, en groupant ces derniers dans une seule structure événementielle.
L'Event Linking cherche a rendre explicite les relations entre les événements du plan. Les
relations temporelles sont exprimées en utilisant des adverbiaux temporels. D'autres types de
liens, tels que les relations causales, sont traités par heuristique pour choisir la maniere la plus
adéquate de les exprimer. Par exemple, si la cible d'un lien causal est une structure
événementielle réalisée comme clause non existentielle et déclarative, celle-ci sera réalisée
comme une clause séparée telle que as a result. Par contre, les clauses existentielles (p.ex.,
there was a bradycardia) sont réalisées en tant que clauses subordonnées (p.ex., The baby was
given morphine, causing a bradycardia). Suite a ces opérations une structure événementielle
contient un certain nombre de roles thématiques qui se referent a des entités du domaine, pour
lesquelles des expressions référentielles (RE) doivent étre construites. Le module GRE
(Generation of Referring Expressions) manipule quatre types de RE : 1) les entite’s nomme’es ;
2) les mass term qui se rapporte a des substances ou des génériques (p.ex. MORPHINE dans
50mg of morphine) ; 3) les groupes nominaux (GN) déﬁnis et indéﬁnis, qui sont identifiés par
leurs propriétés dans l'ontologie (p.eX. the baby est un GN défini unique dans le discours
alors que an IV line est toujours indéﬁni) ; et 4) les références anaphoriques, pour lesquelles
un algorithme basé sur la prépondérance (Krahmer et Theune 2002) est employé pour
déterminer si des entités doivent étre mentionnées par des pronoms.

T) . -
EVENT Lexi°""5"'i°” Even‘ Frames Discourse Manager Discaurse segments ‘* Realisation
{JESS rule engine]
1. A ‘I
\ »'
i /
: / text
- - Generation .'
! Event linking of /
' Referring Expressions .'
I /
I _/
I -j /

:_ ............... .. i ...... .._/

Figure 4 : Architecture du module de micro-planification de BT-45

Un des points les plus délicats pour la micro-planification est l'expression du temps qui est
gérée par le gestionnaire du discours. Le lecteur doit pouvoir reconstruire, a partir du texte,
l'ordre dans lequel les événements se sont produits. Cependant, l'ordre narratif de BT-45 n'est
pas isomorphe a l'ordre temporel. Ceci est dﬁ a la stratégie d’ordonnancement du planiﬁcateur
(basée sur l'importance) que le Inicroplanner essaye de respecter. Malgré la quantité
substantielle de publications sur la représentation temporelle dans le traitement du langage
naturel, ce probleme n'a suscité que tres peu d'attention du point de vue de la génération.

F rangois Portet, Albert Gatt, Jim Hunter, Ehud Reiter, Somayajulu Sripada

L'evenement cle qui forme la racine de chaque paragraphe est toujours exprime avec une
mention explicite de son heure de debut, de sorte que chaque paragraphe commence par une
reference temporelle claire. Des temps et des adverbiaux temporels sont ensuite employes
pour indiquer l'ordre temporel relatif des evenements mentionnes apres l'evenement cle. Les
temps sont calcules en utilisant le modele propose par Reichenbach (1947/ 1966). Le temps
utilise depend du moment d'occurrence de l'evenement (E), du moment de l’enonciation, et du
moment de reference (R). Stylistiquement, ceci distingue les textes BT-45 ecrits au passe des
textes humains ou le present de narration est employe. L’ordre relatif de R et de E pour un
ensemble d'evenements determine l'utilisation d'un past perfect ou d’un simple past. Par
exemple, T2 had suddenly increased to 33.9 indique que son moment d'occurrence precede
son moment de reference (E < R). Dans ce cas-ci, son moment de reference est le moment
d’occurrence de l’evenement mentionne precedemment qui a en fait commence apres lui. La
phrase The temperature sensor was re-sited a aussi l’evenement mentionne precedemment
comme moment de reference mais, comme les deux evenements se sont produits au meme
moment (R = E), cette phrase est exprimee au simple past.

4 Evaluation

Pour evaluer BT-45, il a ete demande a 35 infirmieres et medecins de la Royal Infirmary of
Edinburgh de prendre une decision a partir de 45 minutes d’informations sur des nouveau-nes
(qu’ils ne connaissaient pas) presentees sous forme : graphique (G) ; textuelle redigee par nos
experts humains (H) ; ou textuelle generee par BT-45 (C). 24 scenarios ont ete choisis pour
lesquels 18 actions (appropriees, neutres ou inappropriees) pouvaient etre choisies. Ces 24
scenarios, sous trois conditions, ont ete distribues en utilisant une strategie de carre latin pour
eviter qu’un sujet soit confronte plusieurs fois au meme scenario. Les textes H ont ete ecrits
pour etre uniquement descriptifs et pour eviter toutes indications therapeutiques (p.ex., HR is
normal ou arterial pressure is worrying). Les sujets ont ete repartis en quatre groupes :
docteurs seniors SD (n=9) et juniors JD (n=9), infirmieres seniors SN (n=9) et juniors JN
(n=8). Chaque scenario devait etre analyse en moins de 3 minutes afin d'imposer une certaine
pression. Les sujets n'ont pas ete invites a donner leur avis mais tout avis spontane a ete
enregistre anonymement. Avant l’evaluation, une initiation au logiciel de test a ete effectuee.
Aucun des developpeurs de BT-45 n’a eu acces aux scenarios avant l’experimentation. La
longueur moyenne des 26 (24 scenarios + 2 scenarios d’apprentissage) textes H etait de 135
mots (6 = 79) et de 119 mots (6 = 36) pour les textes C mais ils n’ont pas une longueur
significativement differente selon le test de Wilcoxon (z = -.588, p = .493). Bien que les textes
H soient plus longs ils partagent la meme tendance (c.-a-d., quand les textes H sont plus
longs, les textes C le sont aussi). Le score de chaque sujet pour chaque scenario a ete calcule
en soustrayant la proportion d'actions choisies inadequates de la proportion d'actions choisies
appropriees. Le score global pour G etait 0.33 (6 = 0.14), pour H 0.39 (6 = 0.11) et pour C
0.34 (6 = 0.14). Un test ANOVA 3 (conditions) X 4 (groupes) a montre un effet de condition
approchant la signiﬁcativite (F (2, 31) = 2.939, p = 0.06) mais aucun effet de groupe, et
aucune interaction. Trois analyses ANOVA ont montre que G et H (F (1, 31) = 4.975, p <
0.05) et que C et H (F (1.31) = 5.266, p < 0.05) donnent des resultats significativement
differents alors que les resultats de G et C ne le sont pas (van der Meulen et al., 2009).

5 Discussion

Le resultat le plus important de cette etude est sﬁrement d’avoir montre qu'il est possible de
generer des resumes de donnees cliniques complexes pouvant aider efficacement la prise de

Le projet BabyTalk .' résumé de données hétérogénes cliniques pour la prise de décision

décision. En effet, les décisions sous conditions C sont au moins aussi efﬁcaces que sous
condition G (et méme bien meilleures dans certains cas) alors que G est une présentation
quotidiennement utilisée par le personnel et que BT-45 n’est le résultat que d’un an de
développement. Un autre résultat important est que les textes peuvent étre une aide a la
décision tres efficace comme le prouvent les résultats de H significativement meilleurs que C
et G. Ceci conforte les résultats de Law et al (2005) et encourage le développement de
nouvelles technologies de génération de textes a partir d’ensembles de données temporelles
hétérogenes. Afin de nous aider a comprendre quels aspects des textes C les ont rendus moins
efﬁcaces que les textes H, nous avons analysé les résultats en profondeur. Cette analyse nous
a permis d’identiﬁer les principales limites du systeme a tous les niveaux de traitement. Nous
résumons ici les principaux problemes lies a la génération de texte.

Le principal aspect de BT-45 qui a été critiqué est la description trop morcelée des signaux
physiologiques. Par exemple, le texte de la Figure 1-C) commence avec TI is 37.7, et TcPO2
is 5.8, et les prochaines références sont TI increased to 37.3, et TcPO2 decreased to 8.4. Ce
probleme est dﬁ a la stratégie de planification bottom-up de BT-45. Sur la Figure 1-G) le
signal TcPO2 s'est élevé, entre 14.15 et 14.17, a une valeur de créte de 20, avant de diminuer a
8.4. Les regles expertes ont assigné plus d'importance a la chute de TcPO2 qu'a l'élévation
précédente, ce qui a provoqué la sélection unique de cette premiere par le planificateur. Nous
appelons ce probleme continuity qui fait reference a l'expression employée par des réalisateurs
de film lorsqu’ils cherchent a s'assurer que les scenes voisines dans un ﬁlm « collent » les
unes avec les autres lors du montage. Certains textes humains ont également des problemes de
continuité, mais aucun des sujets ne s'en est plaint. Ceci suggere que certaines violations de
continuité sont plus problématiques que d'autres et il se peut que cela soit lié a la proximité
des événements dans le temps et dans l’espace du texte.

Un autre probleme est la mauvaise communication des informations temporelles. L’une des
difﬁcultés est de choisir les références temporelles pour un événement. Par exemple dans un
scénario, BT-45 a généré : After 6 attempts, at 14:17 a peripheral venous line was inserted
successfully. En fait, 14 :17 correspond a la date de la premiere tentative or les lecteurs
l’interpretent comme la date de succes de l’opération. Ceci est d’autant plus génant que cette
date, pour un événement aussi long, peut servir de date de référence pour les événements
suivants du texte. Le probleme est que quand BT-45 décrit de longs événements, il ne prend
pas en compte le type de l'événement. Dans cet exemple, la notion de succes est cruciale. En
effet, si tous les essais avaient été infructueux cette date serait acceptable. BT-45 a donc
besoin d'un meilleur modele pour communiquer le temps et pour lier l’eXpression linguistique
a la sémantique des événements. Nous avons également besoin de meilleures méthodes pour
communiquer les relations temporelles entre les événements dans les cas ou ils ne sont pas
énumérés dans l'ordre chronologique.

D’apres deux analystes du discours de l'université d'I-/Edimbourg (Andrew McKinlay et Chris
McVittie), la supériorité des textes humains peut étre expliquée par leur structure narrative,
bien meilleure que celle des textes BT-45. Ces analystes emploient le terme narratif dans le
sens de Labov (1971), c’est-a-dire des expériences écrites comme des récits et qui vont au-
dela d’une description factuelle d’événements et qui incluent les informations qui aident des
auditeurs a rendre réaliste ce qui s'est produit (p.eX. : résumés, évaluatifs, corrélatifs, ou
explicatives). En fait, une grande partie des limitations du systeme (continuité, information
relative, granularité temporelle et vue d'ensemble) sont des aspects de la génération narrative.
Ceci est d’autant plus intéressant que nos collaborateurs cliniciens a Edimbourg sont
persuadés de la valeur des informations sur les nouveau-nés rapportées sous forme de récits.
En effet, les systemes de gestion de patients actuels, ou la saisie d’informations est réalisée a
travers des formulaires, ont supprimé les notes dites « libres » qui contenaient des erreurs
(orthographiques, typographiques, etc.) mais dont la structure narrative contenait des

Francois Portet, Albert Gatt, Jim Hunter, Ehud Reiter, Somayajulu Sripada

informations précieuses (relations causales et explications). Or, les cliniciens débutants
apprenaient beaucoup grace a ces notes qui rendaient les liens de cause/consequence entre les
événements explicites.

Toutes ces limitations sont prises en compte pour le développement des prochains systemes
du projet BabyTalk destinés a un éventail plus large d’utilisateurs. Nous pensons que cette
technologie de donne’es-vers-texte sera bientot mature et po11rra étre employée pour aider des
personnes a comprendre de grands ensembles de données, en médecine, en météorologie et
dans beaucoup d'autres secteurs.

Remerciements

Les auteurs remercient les membres du projet BabyTalk et les cliniciens ayant participé a
l'évaluation pour leur aide. Ce travail est soutenu par Engineering and Physical Sciences
Research Council (EPSRC) a travers les ﬁnancements EP/D049520/1 et EP/D05057X/ 1.

Références

FREER Y., LYON A., STENSON B., COYLE C. (2005). BabyLink — improving communication among
clinicians and with parents with babies in intensive care. Br J Healthcare Comput Inf Manage, 22(2),
34-36.

HUNTER J ., FERGUSON L., FREER Y., EWING G., LOGIE R., MCCUE P., MCINTOSH N. (2003) The
NEONATE Database. Joint AIMDM and IDAMAP Workshop, 21-24.

HALLETT C., POWER R., SCOTT D. (2006). Summarisation and visualisation of e-Health data
repositories. UK E-Science All-Hands Meeting, Nottingham, UK.

KIPPER K., DANG H.T., PALMER M. (2000). Class—based construction of a verb lexicon. I 7th National
Conference on Artificial Intelligence, Austin, Texas, 691-696.

KRAH1vIER E., THEUNE M. (2002). Efficient context-sensitive generation of referring expressions.
Information Sharing: Reference and Presupposition in Language Generation and Interpretation,
Stanford, CA.

LABOV W. (1971) Language in the Irmer City. University of Pennsylvania Press, Pennsylvania.

LAW A.S., FREER Y., HUNTER J ., LOGIE R.H., McINTosH N., QUINN J . (2005). A comparison of
graphical and textual presentations of time series data to support medical decision making in the
neonatal intensive care unit, J Clin Monit Comput, 19(3), 183-194.

PoRTET F., REITER E., GATT A., HUNTER J ., SRIPADA S., FREER Y., SYKES C. (2009). Automatic
generation of textual summaries from neonatal intensive care data. Artiflntell, 173(7—8), 789-816.

PUPPE F., ATZMULLER M., BUscHER G., HUTTIG M., LUEHRS H., BUscHER H.-P. (2008). Application
and Evaluation of a Medical Knowledge System in Sonography (SONOCONSULT). ECAI, 683-687

REICHENBACH H. (1947/ 1966). Elements of Symbolic Logic, Macmillan, New York.

REITER E., DALE R. (2000). Building Natural Language Generation Systems, Cambridge University
Press, Cambridge.

SHAHAR Y., GOREN-BAR D., BOAZ D., TAHAN G. (2006). Distributed, intelligent, interactive
visualization and exploration of time-oriented clinical data and their abstractions, Artif Intell Med,
38(2), 115-135.

VAN DER MEULEN, M., LOGIE R.H., FREER Y., SYKES C., MCINTOSH N., HUNTER J . (2009). When a
graph is poorer than 100 words: A comparison of computerised Natural Language Generation, human
generated descriptions and graphical displays in neonatal intensive care, Appl Cogn Psychol.

