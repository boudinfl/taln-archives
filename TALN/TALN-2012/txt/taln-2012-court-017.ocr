Un annotateur automatique d’expressions temporelles du
francais et son évaluation sur le TimeBank du francais

André Bittar Caroline Hagége
XRCE, 6 Chemin de Maupertuis, 38240 Meylan, FRANCE
Andre . Bittarﬁxrce . xerox . com, Caroline . Hagege@xrce . xerox . com

RESUME
Dans cet article, nous présentons un outil d’extraction et de normalisation d’un sous-ensemble
d’expressions temporelles développé pour le francais. Cet outil est mis au point et utilisé dans
le cadre du projet ANR Chronolinesl et il est appliqué sur un corpus fourni par l’AFP Notre
but ﬁnal dans le cadre du projet est de construire semi-automatiquement des chronologies
événementielles ‘a partir de la base de depéches de l’AFF! L’une des étapes du traitement est
l’analyse de l’information temporelle véhiculée dans les textes. Nous avons donc développé un
annotateur d’expressions temporelles pour le frangais que nous décrivons dans cet article. Nous
présenterons également les résultats de son évaluation.

AB STRACT
An Automatic Temporal Expression Annotator and its Evaluation on the French TimeBank

In this article, we present a tool that extracts and normalises a subset of temporal expressions in
French. This tool is being developed and used in the ANR (French National Research Agency)
project Chronolines, applied to a corpus of provided by the Agence France Presse. The aim of
the project is to semi-automatically construct event chronologies from this corpus. To do this,
a detailed analysis of the temporal information conveyed by texts, is required. The system we
present here is the ﬁrst version of a temporal annotator that we have developed for French. We
describe it in this article and present the results of an evaluation.

MOTS-CLES : Analyse temporelle, évaluation.

KEYWORDS: Temporal processing, evaluation.

1 Introduction

Le travail présenté ici s’insere dans un cadre plus ambitieux qui est la constitution semi-
automatique de chronologies événementielles a partir d’une requéte effectuée sur un grand
ensemble de depéches de l’AFP pour le francais et pour l’anglais. Afin de pouvoir constituer
des chronologies événementielles, il est capital de pouvoir analyser dans un premier temps le
contenu textuel (aﬁn de repérer les événements) mais aussi de reconnaitre et normaliser les
expressions temporelles associées ‘a ces événements. 1.’outil présenté ici est un annotateur d’un
sous-ensemble d’expressions temporelles qui :

— repére les expressions temporelles

IANR-10-CORD—010, http : //win: . chronolines . fr

Actes de la conférence onjointe JEP-TALN-RECITAL 2012, volume 2: TALN, pages 463-470,
Grenoble, 4 au 8 juin 2012. ©2012 ATAI.A 8: AFCP

463

— normalise ces expresssion temporelles
— rajoute des annotations concernant la modalité des événements auxquels ces expressions se
rapportent

Dans une premiere partie, nous présentons un bref état de l’art concernant l’analyse automatique
de la temporalité en général et pour le francais en particulier. Puis nous décrivons l’outil que nous
avons développé pour le francais. Nous présenterons enﬁn les résultats obtenus par l’annotateur
en les comparant avec le TimeBank du francais (TBF), un corpus de textes en francais annotés
selon la norme ISO-TimeML (Pustejovsky et al., 2010).

2 Etat de l’art

L’analyse de la temporalité est un élément important pour un grand nombre de taches et de
ressources relevant du 1Iaitement informatique des textes. (Li et al., 2005) montre l’importance
de l’analyse de la composante temporelle pour les systémes de Questions/Réponses. Pour le
résumé multi-document, l’ajout de la composante temporelle aide a repérer les éléments textuels
véhiculant une information similaire (Barzilay et Elhadad, 2002). Les grandes bases de connais-
sances constituées automatiquement ou semi-automatiquement grace a l’extraction d’information
textuelles s’enrichissent actuellement d’une composante temporelle (Wang et al., 2010). Par
ailleurs, la norme ISO-TimelVlL est aujourd’hui largement adoptée, tant dans le cadre de la mise
en place de ressources annotées avec des informations temporelles pour diverses langues dont le
francais (Bittar et al., 2011), mais aussi lors des compétitions TempEval (Pustejovsky et Verhagen,
2010) au cours desquelles divers outils d’annotation automatique des informations temporelles
sont évalués. Plus spéciﬁquement pour le frangais, outre le TimeBank mentionné ci-dessus,
plusieurs travaux visant a l’analyse automatique de la temporalité ont vu le jour. Concemant
l’annotation et le typage des expressions temporelles (ET) nous pouvons citer les travaux de
(Battistelli et al., 2008) qui présente une représentation algébrique des expressions de type date,
de (Ehrmann et Hagége, 2009) qui propose un typage des ET accompagné de critéres syntaxiques
et sémantiques, mais aussi dans le domaine de l’annotation automatique, l’outil décrit dans
(Parent et al., 2008), ainsi que celui de (Teissédre et aL, 2011).

3 Description de l’annotateur

L’annotateur que nous avons développé est intégré a un analyseur linguistique (A'1't-Mokhtar et al.,
2002) qui produit une analyse syntaxique en dépendances a partir d’un texte d’entrée (texte brut
ou XML). L’annotateur a été développé pour les besoins du projet Chronolines qui vise a traiter le
corpus de dépéches (couvrant les années allant de 2004 a 2011) mis a disposition par l’Agence
France-Presse. Ce corpus est constitué d’environ 1 million de documents (chaque document
correspondant a une dépéche) comprenant environ 9,4 millions d’expressions temporelles de
tout type. Ces dépéches sont disponibles dans un format XlVl1. (NewsN[L.).

Le module spéciﬁque pour la reconnaissance des expressions temporelles est constitué de plu-
sieurs éléments qui seront détaillés plus bas :

— Ajout d’information lexicale permettant de typer les adverbes de temps.

— Regles locales permettant de délimiter les ET et si possible de les typer. Ces régles sont intégrées

464

a la grammaire générale de l’analyseur.

— Régles utilisant les dépendances syntaxiques permettant de procéder a un typage plus ﬁn de
ces E'I'. Ces régles sont également intégrées a la grammaire générale.

— Programme Java externe a la grammaire qui utilise les informations linguistiques pour désam-
biguiser certaines expressions et pour procéder a la normalisation des ET sélectionnées.

3. 1 Information lexicale

L’inforrnation lexicale spéciﬁque a l’analyse temporelle consiste essentiellement en l’ajout de
traits sémantiques sur des éléments lexicaux qui vont rentrer dans la composition d’une E'I'. Par
exemple, les noms de jours (e.g. Zundi) se voient attribuer un trait spéciﬁque [day :+]. De méme,
les noms de mois, de fétes, des adverbes de temps seront marqués dans le lexique.

3.2 Régles locales

Les régles locales vont perrnettre d’assembler des éléments lexicaux quand ils peuvent poten-
tiellement correspondre ‘a une expression temporelle incluant plusieurs constituants de base.
Par exemple, une expression comme mi-mars 2012 est segmentée originellement par l’analyseur
morphologique en 4 segments mi + - + mars + 2012. Une régle locale regroupe ces quatre
segments aﬁn de constituer une seule expression temporelle. Lors de l’application de ces régles
locales, un premier typage des expressions temporelles est effectué dans le cas o1‘1 celles-ci ne
sont pas ambigués. Par exemple, une expression comme mi-mars 2012 peut étre typée comme
une date absoluez sans avoir recours au contexte .

3.3 Régles de dépendances raffinant le typage

Certaines expressions temporelles reconnues par une analyse lexicale ou par l’application de
régles locales ne peuvent cependant pas étre typées a priori. En effet, l’analyse de la seule
expression ne permet de déterrniner de quel type d’expression il s’agit et seul un contexte
plus large permet de désambiguiser. Parfois, une méme expression mettant en jeu des unités
linguistiques constitutives d’une ET peut s’avérer, en contexte, ne pas étre une E'I'. Par exemple,
une expression telle que trois ans, n’est pas une ET dans (1) mais correspond ‘a une durée
dans (2). L’expression en avril dans (3) correspond ‘a une date relative alors que dans (4), elle
correspond a une date récurrente (qui peut étre paraphrasée par tous les mois d’avril).

1. Jean fétera bientét ses trois ans.

2. Il est resté trois ans sans la voir.

3. Il était malade en avril.

4. En Avril, il fait le grand nettoyage de printemps.

Grace ‘a l’analyse syntaxique sous-jacente, des restrictions utilisant ‘a la fois des informations
syntaxiques (fonction syntaxique de l’ET potentielle), et des informations sémantiques lexicales

znous détaillons 51 la section 3.5 les différems types de dates que nous extrayons et la terminologie adoptée pour les
distinguer.

465

(verbe rester est un verbe de permanence), permettent de ﬁltrer et de mieux typer des ET extraites
lors des étapes précédentes de traitement (analyse lexicale et régles locales).

3.4 Programme externe

Une API java de l’analyseur permet d’étendre les traitements linguistiques et d’utiliser les résultats
des analyses dans du code extérieur a l’analyseur. La normaJisation3 des ET extraites est effectuée
par ce biais. Une fois de plus, a ce stade, l’analyse des expressions temporelles est encore rafﬁnée
aﬁn de pouvoir procéder correctement a la normalisation. Par exemple, une expression comme
Zundi est une expression de type date relative par rapport au moment de l’énonciation (ME) mais
elle peut étre antérieure ou postérieur au ME selon les contextes, ainsi qu’en témoignent les
exemples suivants.

1. Elle est par11'e lundi.
2. Elle partira lundi.

3.5 Type de dates extraites reconnues

Bien que nous délimitions tout type d’E'I} nous avons mis l’accent pour une premiere utilisation
de l’annotateur sur la normalisation d’un sous-ensemble d’expressions temporelles qui est le
suivant :

Nous considérons les dates absolues, et les dates relatives au moment de l’énonciation qui
correspondent ‘a des intervalles bornés ou ‘a des points. Nous avons pour ce faire déﬁni des
critéres de segmentation et de typage décrits dans (Bittar et al., 2012). Toutes ces dates que nous
extrayons doivent étre normalisées.

Parmi ces expressions nous avons des ET comme En 2003, En janvier 2003, le 24 juin 2010, le
mois dernier, Zundi, dans quatre mois, etc. Les trois premiers exemples sont des dates absolues,
les exemples suivants sont des dates relatives au ME dans la mesure o1‘1 pour procéder ‘a la
normalisation de ces dates, il est nécessaire de connaitre la date correspondant a l’assertion
durant laquelle cette date est mentionnée.

3.6 Extraction d’information sur la modalité

Dans le cadre plus large du projet, nous avons souhaité distinguer les événements datés factuels
(c’est a dire les événements considérés comme avérés par l’auteur de la dépéche) des événements
datés hypothétiques ou relevant du discours rapporté. Dans la mesure o1‘1 nous utilisons un
analyseur linguistique, nous disposons des liens syntaxiques entre l’ET extraite et le prédicat
nominal ou verbal que cette ET modiﬁe. La prise en compte de la modalité dans le traitement
de la temporalité est un vaste et riche domaine (voir (Battistelli, 2009) pour une présentation
détaillée) que nous n’avons pas considéré dans son ensemble. Nous avons cependant distingué

3Nous entendons ici par normalisation le fait d’attribuer une valeur correspondante au calendrier (éventuellement
sous-spéciﬁée) £1 une ET.

466

<DCT va1ue="20040101"/>

L’ <EN TYPE="LOCORG">Ir1aI1de</EN> s’appréte 31 prendre <EC TYPE="DATE"
SUBTYPE="R.EL" REF="ST" value ="20040101">jeudi</EC> la présidence toumante de 1'
<EN TYPE="[]RG">UnioI1 européeIme</EN> qui doit vivre <EC TYPE="DATE" SUBTYPE="R.EL"
REF="ST" value ="20040501" FACTUAL="M[]DAL">1e ler mai</EC> un élargissement
historique...

FIG. 1 — Exemple de sortie de1’annotateur.

les cas suivants, qui se produisent de maniére assez fréquente sur les corpus que nous traitons et
qui nous semblent pertinents pour la ﬁnalité applicative que nous avons dans le cadre du projet.

— L’expression temporelle se trouve dans une proposition dont 1e verbe principal est a une forme
modale ou future.
— L’expression temporelle se trouve dans une enchassée qui reléve du discours rapporté.
— L’expression temporelle est associée 5 un verbe dioendi introduisant un discours rapporté.

Dans le premier cas, 1’ET est soit 1e modiﬁeur d’un verbe utilisé 21 une forme modale ou au futur
(information dont nous disposons grace a1’ana1yse morpho-syntaxique), soit 1e modiﬁeur d’un
nom argument d’un verbe utilisé 21 une forme modale ou future. L’exemp1e ci-dessous marque
1’ET en 2006 par un attribut FAC'I'UAL="MODAL" dans la mesure ou le prédicat auquel elle se
rapporte (s’achever) est employé 5 une forme modale.

Exemple :
II a réaﬁirmé la primaute’ de son mandat de cinq ans , qui doit s’achever <EC TYPE="DATE"
SUBTYPE="ABS" value ="2006XXXX" FACTUAL="MDDAL">en 2006</EC>

Dans le deuxiéme cas, 1’ET est modiﬁeur d’un verbe d’une enchéssée dépendante d’un verbe
dicendi. Dans ce cas, 1’annotau'on de 1’ET est enrichie par 1’attribut REPOR'I'ED="YES".

Exemple :
II a annonoé que des élections se dérouleraient <EC TYPE="DATE" SUBTYPE="ABS" value
="2004XXXX" REPORTED="YES" FACTUAL="MODAL">en 2004</EC>

Enfin, dans le demier cas, 1’ET est modiﬁeur d’un verbe marqué comme étant un verbe intro-
ducteur d’un discours rapporté. Dans ce cas, 1’annotau'on de 1’ET comporte 1’attribut DECLARA-
'I'ION="YES".

Exemple :

La Libye avait annoncé <EC TYPE="DATE" SUBTYPE="REL" REF="ST"
DECLARATION="YES" value ="20031219">le 19 de’cembre</EC> sa décision de renoncer
aux armes de destruction massive.

3.7 Exemple de sortie

L’annotateur prend en entrée du texte brut ou un texte au format XML. I1 produit en sortie un
texte au format XML qui correspond au texte initial enrichi par les annotations des ET que nous
avons décrites. Les entités nommées sont également marquées. Un exemple de sor11'e est illustré
dans 1a Figure 1.

467

4 Evaluation sur TimeBank

Aﬁn de pouvoir évaluer notre outil, nous avons comparé les annotations produites avec le corpus
TimeBank du francais (TBF) annoté selon la norme ISO-TimeML. Cette évaluation a nécessité
quelques adaptations afin de faire correspondre les sorties de l’outil d’analyse aux données de
TimeBank. Ces adaptations sont décrites ci-dessous. Par ailleurs, l’informau'on concernant la
modalité et le discours rapporté n’a pas été évaluée.

4. 1 Adaptations

Les adaptations ont été nécessaires pour trois raisons principales : la délimitation des ET selon
notre approche n’est pas tout a fait semblable a celle adoptée par la norme ISO-TimeML, nous ne
considérons qu’un sous-ensemble des ET envisagées dans TBF et enﬁn, le format de normalisation
que nous adoptons est différent de celui de ISO-TimeML.

Dans TBE les balises qui marquent les ET (<TIMEX3>) n’incluent pas les éventuels marqueurs
de relation (ex. les prépositions temporelles telles que cn/ant, aprés, etc.). En effet, la norme ISO-
TimeML préconise de les annoter séparément avec une autre balise (<SIGNAL>). Selon notre
schéma d’annotation (Bittar et al., 2012) cependant, les marqueurs de relations sont annotés a
l’intérieur d’une seule balise délimitant l’expression temporelle. Aﬁn de résoudre cette différence,
nous avons converti le TimeBank selon notre format par application d’un simple transducteur
qui place le contenu textuel de la balise <SIGNAL> a l’intérieur de la balise <TIMEX3> qui la
suit directement. Par ailleurs, notre annotateur a été adapté pour fournir une sortie contenant la
balise (<SIGNAL>). Nous obtenons donc pour ce type d’expression la représentation ﬁnale(1).

1. <TIMEX3><SIGNAL>depuis< /SIGNAL>mars 2003< /TIMEX3>

Notre annotateur ne traite pour l’instant que des dates absolues et des dates relatives au moment
de l’énonciation correspondant a des intervaJles bornés et dont la granularité n’est pas inférieure
au jour. Nous avons donc retiré du corpus TBF toutes les annotations des expressions ne cor-
respondant ‘a ces categories. Concretement, toute balise <TIMEX3> obéissant ‘a l’un des quatre
critéres mentionnés ci-dessous a été supprimée du corpus de référence.

— l’attribut tempora1Function="true" (qui indique qu’il s’agit d’une date relative) est pré-
sent et l’attribut anchorTimeID est différent de 171 (la DCT). Ce critére permet de retirer du
corpus de référence toutes les dates relatives 21 un référent textuel.

— l’attribut type a une des valeurs DURATION, SET ou TIME. Ce critere permet de retirer du
corpus de référence toutes les durées, les heures ou les agrégats temporels.

— l’attribut value est PAST_REF, PRESENT_REF ou FUTURE_REF. Ce critére permet de retirer
du corpus de référence toutes les expressions de dates ﬂoues.

— la balise a l’attribut MOD indiquant que la date a un modiﬁeur (de début, de ﬁn, d’approximation,
etc.). Ce critére permet également de retirer du corpus de référence des dates ﬂoues.

Enfin, nous avons fait converger les formats de la valeur normalisée des ET afin d’obtenir une
représentation comparable entre TBF et les sorties de l’annotateur. Le corpus adapté pour notre
évaluation contient 299 expressions temporelles annotées (sur les 608 du corpus original).

468

4.2 Resultats pour le frangzais

Les performances, en termes de rappel, précision et F-mesure, ainsi que la mesure kappa (Cohen,
1960), ﬁgurent dans le Tableau 1. Pour 1a détection des expressions temporelles, les performances
sont satisfaisantes, mais peuvent encore étre améliorées. Les erreurs sont dues essentiellement a
des manques de couverture dans la grammaire, qui est encore en cours de développement. Aucune
erreur de typage des expressions n’a été commise. De trés bons résultats ont été obtenus pour
la normalisation des expressions. Ia principale source d’erreurs pour la normalisation provient
des cas ou une ET apparait dans un contexte o1‘1 elle n’est pas reliée par une dépendance ‘a un
prédicat verbal. Ceci est parfois le cas lorsque la clause ou apparait l’ET ne contient effectivement
pas de verbe, mais cela peut également se produire suite a une erreur de l’analyseur syntaxique.
Dans un de ces cas, le temps verbal est donc indisponible pour le calcul de la valeur correcte
normalisant l’E'I'. Enﬁn, lors de l’évaluation, un certain nombre de désaccords entre la sortie du
systéme et la référence ont révélé des erreurs du TBF. Ces erreurs n’ont pas été prises en compte
pour l’évaluation et elles ont été transmises au gestionnaire du corpus.

Précision Rappel F-mesure Kappa
Etendue des balises 0.90 0.84 0.87 0.71
Attribut type 1.0 1.0 1.0 1.0
Attribut value 0.94 1.0 0.96 0.92

TAB. 1 — Performances du systéme sur l’ensemble du corpus d’évaluau'on.

5 Conclusion

Nous avons développé une premiere version d’un outil d’analyse des ET du frangais a partir de
textes tout-venant. Nous avons utilisé cet annotateur pour effectuer des expériences visant ‘a
extraire les dates importantes menﬁonnées dans de grands volumes de texte. L’annotateur a été
évalué grace au TimeBank du frangais. L’élargissement de cet annotateur ‘a d’autres types d’ET
est en cours (prise en compte d’autres des dates référentielles par rapport a un référent introduit
dans le discours, des dates répétitives (fréquences dans la terminologie ISO-TimeML), et des
dates qui ne peuvent étre assimiliée 5 un point ou a un intervalle temporel borné).

Remerciements

Remerciement a l’ANR qui a ﬁnancé une partie de ce travail, ainsi qu’a X. Tannier, R. Kessler et V
Moriceau qui ont utilisé et commenté les sorties de l’annotateur. Nous remercions également D.
Teyssou de l’AFP qui nous a donné accés au corpus de dépéches.

469

Références

Air-MOKHTAR, S., CHANoD, J.-13! et Roux, C. (2002). Robustness beyond Shallowness : Incremental
Deep Parsing. Natural Language Engineering, 8:121—144.

BARZILAY, R. et ELHADAD, N. (2002). Inferring Strategies for Sentence Ordering in Multidocument
News Summarization. Journal ofArtificial Intelligence Research, 17:35-55.

BATTISTELLI, D. (2009). La temporalite’ linguistique : circonscrire un objet d’analyse ainsi que des
finalite’s a cette analyse. Université Paris-Ouest Nanterre Ia Défense (Paris 10).

BATTISTELLI, D., COUTO, J., MINEL, J.-L. et ScHwER, S. (2008). Représentation algébrique des
expressions calendaires et vue calendaire d’un texte. In (Bechet et al., 2008).

BECHET, E, BELLOT, P, BONASTRE, J.-E et JIMENEZ, T., éditeurs (2008). Actes de TAIN 2008
(Traitement automatique des langues naturelles), Avignon. ATA1.A, LIA.

BITTAR, A., AMs1L1, P, DEN1s, P. et DANLos, L. (2011). French TimeBank : An ISO-TimeML
Annotated Reference Corpus. In Proceedings of the 49th Annual Meeting of the Association for
Computational Linguistics : Human Language Technologies : short papers, volume 2, Portland.
Association for Computational Linguistics.

BITTAR, A., HAGEGE, C., TANNIER, X., MORICEAU, V et TEISSEDRE, C. (2012). Temporal Annotation :
A Proposal for Guidelines and an Experiment with Inter-annotator Agreement. In Proceedings of
LREC 2012 - to appear, Istanbul. ELRA.

CoHEN, J. (1960). A Coefﬁcient of Agreement for Nominal Scales. Educational and Psychological
Measurement, 43(6) :551—558.

EHRMANN, M. et HAGEGE, C. (2009). Proposition de caractérisation et de typage des expressions
temporelles en contexte. In (Nazarenko et Poibeau, 2009).

L1, W., L1, W, LU, Q. et WONG, K.-E (2005). A Preliminary Work on Classifying Time Granularities
of Temporal Questions. In Proceedings of Second international joint conference in NLP (LICNLP
2005), Jeju Island, Korea.

NAZARENKO, A. et POIBEAU, T., éditeurs (2009). Actes de TALN 2009 (Traitement automatique des
langues naturelles), Senlis. ATALA, Ll'PN.

PARENT, G., GAGNoN, M. et MULLER, P (2008). Annotation d’expressions temporelles et d’événe-
ments en francais. In (Bechet et al., 2008).

PUsTEJovsKY, J., LEE, K., BUNT, H. et ROMARY, L. (2010). ISO-TimeML : An international standard
for semantic annotation. In CHAIR), N. C. C., CHOUKRI, K., MAEGAARD, B., MARIANI, J., ODIJK,
J., P1PER1D1s, S., RosNER, M. et TAPIAS, D., éditeurs : Proceedings of the Seventh International
Conference on Language Resources and Evaluation (LREC’10), Valletta, Malta. European Language
Resources Association (ELRA).

PUs'rEJovsKY, J. et VERHAGEN, M. (2010). SemEval-2010 Task 13 : Evaluating Events, Time
Expressions, and Temporal Relations ('I'empEval-2).

TEISSEDRE, C., BATTISTELLI, D. et MINEL, J.-L. (2011). Recherche d’information et temps linguis-
tique : une heuristique pour calculer la pertinence des expressions calendaires. In Actes de TALN
201 1 (Traitement automatique des langues naturelles), Montréal. ATA1.A.

WANG, Y., ZHU, M., QU, L., SPANIOL, M. et WEIKUM, G. (2010). Timely YAGO : Harvesting,
Querying, and Visualizing Temporal Knowledge from Wikipedia. In Proceedings of the 13”‘
International Conference on Extending Database Technology (EDBT), Lausanne, Switzerland,
March 22-26, pages 697-700.

470

