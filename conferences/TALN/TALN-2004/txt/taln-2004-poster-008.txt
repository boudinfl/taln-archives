T ALN 2004, Session Poster, F és, I9-21 avril 2004

Prediction d’actes et attentes en dialogue :
experience avec un assistant virtuel simulé

Yannick Fouquet

Laboratoire CLIPS-IMAG — Universite Joseph Fourier
B.P. 53, 38041 Grenoble cedex 9, France
Yannick.Fouquet@imag.fr

Résumé — Abstract

Dans cet article, nous presentons une plate-forrne de test et de recueil de dialogue oral
homme-machine. Dans son architecture generale, des magiciens d’Oz simulent la
comprehension des enonces des utilisateurs et le controle du dialogue. Puis, nous comparons,
dans un tel corpus, la prediction statistique d’acte de dialogue avec les attentes du locuteur.

This paper presents a platform for testing and building human-computer spoken dialog
system. In the general architecture of the platform, understanding and dialog management are
simulated. Thus, comparison between statistic act prediction and expectation will be made.
First results obtained show a credible way of capturing and annotate spoken dialogs.

Keywords — Mots Clés

Dialogue, attentes, magicien d’Oz, pragmatique, analyse, statistique
Dialog, expectations, magicien d’Oz, pragrnatics, analysis, statistics

1 Introduction

Les attentes du locuteur semblent une alternative interessante a la simple prediction d’actes de
dialogue dans le cadre du dialogue oral homme-homme (DOHH) (Fouquet, 2002). Nous
etudions ici ces attentes en dialogue oral homme-machine (DHM) ﬁnalise dans le domaine
d’un Portail Vocal d’Entreprise (PVE). Nous presentons un systeme de DHM dans lequel
s’integrent les attentes des interactants. Une experimentation a base de magicien d’Oz a
permis de collecter des donnees linguistiques. Nous abordons la methodologie adoptee puis
l’architecture generale du systeme dans laquelle la comprehension et le controleur de dialogue
sont simules. Nous presentons ensuite la comparaison er1tre la prediction statistique d’acte de
dialogue et notre approche orientee attentes du locuteur dans le cadre du DHM.

Y annick F ouquet

2 Méthodologie

Le développement du systeme de DHM oral PVE suit la méthodologie développée par
(Rouillard, Caelen, 1998) et (Rouillard, 2000). Plus de 800 dialogues inter-humains er1tre des
secrétaires et leurs interlocuteurs ont été enregistrés. Les dialogues les plus représentatifs des
taches habituellement dévolues a des secrétaires ont été repérés puis analyses aﬁn de mettre en
evidence leurs particularités et leurs parties génériques. 3 taches tres fréquentes ont été
soulignées : joindre une personne, prendre un rendez-Vous et réserver une salle. 3 autres
taches, considérées comme irnportantes pour un assistant Virtuel, ont été rajoutées : gérer un
agenda partagé, recevoir une information et envoyer un document. Avec la transcription de 44
dialogues, choisis pour leur adéquation avec les 6 taches sélectionnées, nous avons défmi le
Vocabulaire et des classes propres a l’application. Un premier modele de dialogue, issu de
l’analyse des transcriptions, offre 122 phrases typiques que le systeme devra étre capable de
dire. Des Variantes ont aussi été introduites pour obtenir des dialogues plus naturels. En outre,
les phrases contiennent 12 parametres dependants de la tache : les titre, nom et coordonnées
de l’utilisateur, la date et l’heure. L’analyse de tels dialogues étant insufﬁsante pour créer un
systeme de DHM, une plate-forme magicien d’Oz, développée pour simuler le comportement
du systeme (controle du dialogue et de la tache), a permis d’élaborer un corpus de DHM oral.

3 Attentes

Fondée sur la théorie des actes de langage de (Austin, 1962) et (Searle, 1972) et sur celle des
intentions, la théorie des attentes (Fouquet, 2002) met l’accent sur la comprehension par la
machine des attentes de l’utilisateur au dela de la seule comprehension de l’énoncé en cours. Il
existe un grand nombre de manieres de laisser transparaitre une attente et les attentes sont
souvent non marquees linguistiquement. Les determiner apporte des indices tar1t au niveau de
l’interprétation de l’énoncé qu’au niveau du controle du dialogue.

Les attentes sont une liste de réponses que l’utilisateur est susceptible d’attendre lorsqu’il
formule un énoncé. La notation, dérivée de (Greimas, 1966) et (Vandervecken, 1990),
considere 8 actes (cf. Figure 1). L’acte de dialogue a pour forme : FfsU(p). Ffs est l’acte de
langage. U est l’identiﬁant de l’utilisateur (A, l’assistant pour la machine). (p) est une
representation logico-sémantique du contenu propositionnel.

Acte assumé Acte délégué
Acte actionnel F : action Ff: demande d’action
Acte communicationnel F5 : information Ffs : demande d’information
Acte engageant actionnel Fd : engagement Ffd : demande d’engagement
Acte engageant statif FP : possibilité, invite Ffp : demande de possibilité

Figure 1 : Notre classiﬁcation en actes de langages

4 Architecture générale du systéme

Le systeme de dialogue est réalisé autour d’une architecture client-serveur avec 4 << serveurs »:
la reconnaissance Vocale, la synthese text-to-speech et deux autres, simulés par magiciens
d’Oz, l’interprétation en actes et le controle du dialogue (Figure 2) .

Prédiction d ’actes et attentes en dialogue .' expérience avec un assistant virtuel simulé

Q 2 3
. . R ' - — — ,
[F Client I Controleur de dialogue Analyseur d’actes de dialogue

®————'4@ @

Figure 2 : Architecture du systeme de dialogue

Le client recoit (1) l’hypothese de reconnaissance d’un serveur de reconnaissance local et
l’envoie (2) au contréleur de dialogue. Le controleur de dialogue transmet (3) cette hypothese
a l’analyseur d’actes de dialogue qui envoie en retour (4) l’acte de dialogue correspondant a
l’hypothese recue. Le controleur de dialogue choisit alors la réponse la plus appropriee et
l’envoie (5) au client qui l’achemine (6) vers le serveur local de synthese vocale.

Le systeme de reconnaissance vocale en parole continue utilise la boite a outils Janus-III
(Woszczyna et al., 1993). Le modele acoustique depend du contexte (Besacier et al., 2001).
Pour le modele de langage, le corpus d’apprentissage est issu des 44 dialogues obtenus en
DOHH et d’une collecte de DHM realisee via un premier systeme en magicien d’Oz resultant
de leur analyse. Speciﬁque a la tache, il contient 1110 phrases composees d’un vocabulaire de
1119 mots differents. Deux autres corpus ont ete testes : un issu de Le Monde 97-01 et un
collecte sur Internet. Nous les avons associes a notre vocabulaire enrichi des X mots les plus
frequents de Le Monde, X variant de 0 a 25000. 2 boites a outils ont ete testees : CMU-SLM
(www.speech.cs.cmu.edu/SLM_info.html) et SRI-LM (www.speech.sri.com/projects/srilm/).
Le corpus d’evaluation est constitue de 63 phrases issues d’un pre-test du systeme durant
lequel les sujets, via un micro-casque, devaient resoudre des taches predeﬁnies. Notre corpus
speciﬁque croise avec SRI-LM obtient les meilleures performances (39% d’erreurs de mot).
Les magiciens n’ont demande que 3 fois au sujet de repeter dans les 6 dialogues du pre-test.

L’analyseur d’actes de langage est simule par magicien d’Oz pour annoter l’hypothese de
reconnaissance vocale en actes de dialogue. De l’identiﬁcation de ces actes depend l’ensemble
du modele. Le magicien annotateur recoit la phrase reconnue par le systeme. Il choisit dans
une liste l’acte le plus approprie. Pour ce choix, la premiere attente, deduite de l’acte
precedent et qui maximise la probabilite de prediction, est preselectionnee. Lorsque le
magicien envoie l’acte correspondant a la phrase, les attentes sont mises a jour avec cette
nouvelle occurrence. Les probabilites sont donc apprises dans le contexte de l’application.

Le controleur de dialogue est simule par magicien d’Oz pour collecter et tester des dialogues
homme-machine speciﬁques aux taches choisies. Le magicien contréleur recoit de l’utilisateur
l’hypothese de reconnaissance vocale et du premier magicien l’acte de dialogue correspondant
a cette hypothese. Il a alors les réles de contréleur de dialogue, controleur de tache et
generateur de reponse. Il choisit les parametres adequats dans l’interface de la tache et sa
reponse parmi les 122 possibles et les envoie a la synthese du client. Si l’utilisateur dit
<< Pourrais-je parler a X ? », le magicien coche X dans l’annuaire et repond (i) << X n’est pas
disponible » ou (ii) << J c vous passe X » en selectionnant la phrase correspondante.

Le diagramme de l’architecture des dialogues de DOHH a perrnis de les decouper en phases.
Les 122 phrases ont alors ete classees par tache, phase et variante. La premiere attente deduite
de l’acte recu est soulignee. Pour chaque reponse, la strategic correspondante (directive,
reactive ou cooperative) est mise en valeur de sorte que le magicien peut choisir sa strategic :
reactive pour (i) ou (ii) ; directive pour << Avez-Vous essaye son poste direct ? » par exemple.

Y annick F ouquet

La synthése Text-to-speech, qui produit un signal audio a partir du texte, est implantée
comme serveur qui recoit le texte du systeme, crée le ﬁchier signal correspondant et le joue.
Elle doit se faire rapidement pour minimiser le temps d’attente de l’utilisateur. Le systeme
Mbrola TTS (tcts.fpms.ac.be/synthesis/euler), de qualité de synthese Vocale sufﬁsante pour
nous, nécessite environ 30% du temps de la phrase pour produire le ﬁchier son correspondant.

5 Prédiction d’actes statistique et prédiction d’attentes en DHM

Nous avons montré dans (Fouquet, 2002) l’intérét de prendre en compte les attentes en DOHH
sur un corpus de renseignement touristique (Besacier et al., 2001). Nous montrerons ici,
suivant la méme méthodologie, l’intérét de ces attentes en DHM a travers un magicien d’Oz.

Nous adoptons une démarche stochastique pour prédire l’acte subsequent le plus probable a
partir d’un historique plus ou moins grand. Nous utilisons les probabilités d’actes de dialogue
n-grams, ce qui nous donne, a partir de la formule de probabilités conditionnelles de Bayes :
P(a,,+1 | a1,...,a,,) = P(a1,...,a,,, a,,+1) / P(a1,...,a,1). Les probabilités sont alors estimées par des
techniques de fréquence relative. Pour prédire le ieme acte de dialogue a,-, les 11-] actes
precedents déterminent le plus probable par la formule : ai = argmaxa P(a|ai_1,ai_2,...,ai_,,+1).
Nous n’aVons pas pu collecter un tres grand nombre de données pour estimer correctement les
probabilités. Nous traitons alors le cas de l’entrée non attendue et celui de la prediction de
plusieurs actes avec la méme probabilité en utilisant le modele (n-1)-gram et récursivement.

La prediction d’attentes est dérivée de la prédiction d’actes. Dans l’historique, seuls nous
intéressent les énoncés ou l’interlocuteur pose une attente: les cas de demande d’action,
d’information ou d’engagement. Les regles de gestion de ces attentes suivent la gestion des
buts (Fouquet, 2002). Nous ne considérons pour l’eXpérience que l’attente la plus probable.
Au moment de prédire un acte de A, nous allons donc Veriﬁer que son historique contient un
acte pose par B et portant une attente et comparer, si tel est le cas, l’acte prédit et celui pose.

6 Résultats

86 dialogues oraux homme-machine ont été collectés. Une nouvelle tache (Ouverture),
générique aux dialogues étudiés, a été introduite. Elle conceme la premiere phrase du dialogue
et les transitions inter-taches dans un meme dialogue (<<Voulez-Vous autre chose ? »). Les
dialogues sont alors répartis en 105 taches et deux parties : apprentissage (env. 1500 actes, 65
dialogues et 80 taches) et test (env. 400 actes, 21 dialogues et 25 taches) (Figure 5) :

Taches Apprentis sage Te st Total

Standard / Redirection 16 5 21
Rendez-Vous 9 3 12
Reservation de salle 12 3 15
Communication d’information 1 1 3 14
Gestion d’un agenda 15 5 20
Envoi de document 17 6 23
Ouverture 65 21 86

Figure 5 : Description du corpus

Prédiction d ’actes et attentes en dialogue .' expérience avec un assistant virtuel simulé

Plusieurs tailles d’historique ont été testées, des_‘uni-grammes (simple répartition statistique)
aux 8-grams (7 actes précédents déterminant le 81°“). L’ouVerture, prédictible a 100% (l’agent
commence par << Bonjour >>), a été otée des statistiques mais sans amélioration signiﬁcative.

Historique Actes Attentes
Assistant Virtuel Utilisateur Assistant Virtuel Utilisateur

Taux Nb Taux Nb Taux Nb Taux Nb
n=1 39.3 178 49.2 244 39.3 178 49.2 244
n=2 55.6 178 52.1 244 69.3 49 91.8 97
n=3 48.3 178 50.4 244 53.2 62 61.6 130
n=4 51.1 178 49.2 244 50.7 73 56.8 162
n=5 51.7 178 46.3 244 53.6 84 52.2 186
n=6 51.7 178 45.9 244 53.5 86 49.5 200
n=7 51.1 178 46.3 244 52.8 91 48.4 215
n=8 50.0 178 46.3 244 52.2 92 48.2 220

Figure 6 : Taux (%) de prédictions d’acte et de prédiction d’attentes et nombre a prédire.

Les résultats (Figure 6) de prédiction d’acte sont un peu moins ﬁables que ceux de Verbmobil
(Reithinger, Maier, 1995) : 40,3% pour n=1, 59.6% pour n=2, 71,9% pour n=3. Cependant,
leur corpus mono-tache contient environ 7200 actes de dialogue. En outre, nos résultats les
corroborent : un grand historique est inutile, le taux le meilleur étant souvent trouvé pour n=2.

Les résultats de prédiction d’attentes montrent une amélioration par rapport a la prédiction
d’acte. Les énoncés portant une intention, méme sans la determiner, permettent de prédire plus
facilement l’acte qui suivra. Une bonne gestion des attentes permet alors de controler le reste
du dialogue. Dans ce cadre de DHM oral ﬁnalise, la prise en compte des attentes de
l’interlocuteur permet donc, comme en DOHH, d’améliorer le controle du dialogue.

L’acte de l’utilisateur est bien prédit par les attentes. Plutot réactif, il se laisse guider par les
questions de l’assistant Virtuel et répond souvent aux attentes de ce demier. La théorie des
attentes peut donc apporter une aide signiﬁcative a l’interprétation eta l’annotation. L’acte de
l’assistant est moins bien prédit. S’il répond souvent directement a la lére attente de
l’utilisateur en etant réactif ou coopératif, sa stratégie directive lui indique de répondre
également a la 2‘ém° attente la plus probable, la demande de précisions. L’utilisateur s’attend
d’ailleurs fortement a cette demiere en début de dialogue car il sait qu’un certain nombre de
parametres manque pour accomplir la tache pour laquelle il appelle. Tenir compte également
de ces autres attentes semble alors important pour permettre un meilleur controle du dialogue.

Y annick F ouquet

7 Conclusions et perspectives

Nous avons présenté les modules développés pour l’annotation de parole et l’élaboration d’un
corpus de 86 dialogues oraux homme-machine. Dans les modules simulés par magicien d’Oz,
la théorie des attentes permet d’améliorer l’interprétation en actes de dialogue et le contréle du
dialogue en prédisant l’acte le plus attendu et ceux moins attendus mais non négligeables.
Cette théorie offre aussi une aide a l’annotation par la prediction de l’acte subsequent.

L’analyse statistique et linguistique des dialogues permettra le test et la mise a jour du
systeme. Elle servira également a l’automatisation de l’interprétation (pour une tache
spéciﬁque) et d’un contréleur générique usant tous deux des attentes en dialogue.

Remerciements

Transcription, annotation, architecture des 44 dialogues réels, 122 énoncés du contréleur,
magiciennes : A.-C. Descalle, S. Hollard. Modeles de langage : B. Bigi. n-ieme passe et
relecture, magicienne : A. Vidal. Autres magiciens : Multicom. Merci de leur aide précieuse.

Références
AUSTIN J .L. (1962), How T 0 Do Things With Words, Oxford, U.P.

BESACIER L., BLANCHON H., FOUQUET Y., GUILBAUD J .P., HELME S., MAZENOT S.,
MORARU D., VAUFREYDAZ D. (2001), Speech Translation for French in the NESPOLE !
European Project, Actes de Eurospeech.

FOUQUET Y. (2002), Une modele de dialogue par les attentes du locuteur, Actes de TALN.
GREIMAS A.J. (1966), Sémantique structurale, Paris, Seuil.

REITHINGER N., MAIER E. (1995), Utilizing statistical dialogue act pro-cessing in Verbmobil.
Actes de 33rd Annual Meeting of the Association for Computational Linguistics, pp. 116-121.

ROUILLARD J . (2000), Hyperdialogue sur Internet ; le systeme Halpin, These informatique.

ROUILLARD J ., CAELEN, J . (1998), Etude Du Dialogue Homme-Machine En Langue Naturelle
Sur Le Web Pour Une Recherche Documentaire, Deuxieme Colloque International Sur
L’apprentissage Personne-Systéme, Caps'98, Caen, Juillet 98.

SEARLE J.R (1972), Les Actes De Langage .' Essai De Philosophie Du Langage (Trad.
Francaise Par H. Pauchard), Paris, Hermann.

VANDERVEKEN D. (1990), La logique illocutoire, Bruxelles, Mandarga éd.

WOSZCZYNA M., COCCARO N., EISELE A., LAVIE A., MCNAIR A., POLZIN T., ROGINA I.,
ROSE C., SLOBODA T., TOMITA M., TSUTSUMI J ., AOKI-WAIBEL N., WAIBEL A., WARD W.
(1993), "Recent Advances in JANUS : A Speech Translation System". Eurospeech, Vol. 2,
pp. 1295-1298.
